---
sidebar_position: 3
title: Version 1.7.2
description: Near-Infrared (NIR) Augmentation
---

# Release Notes - Version 1.7.2

**Release Date:** October 4, 2025  
**Type:** Feature Release

## Overview

Version 1.7.2 introduces Near-Infrared (NIR) augmentation capability, enabling vegetation analysis, NDVI calculation, and enhanced multi-modal machine learning datasets.

## ðŸŒ¿ What's New

### Infrared Augmentation

Add Near-Infrared values from IGN IRC orthophotos to your LiDAR point clouds:

- **NIR Integration**: Fetch and integrate infrared data from IGN GÃ©oplateforme WMS service
- **NDVI Ready**: Calculate vegetation indices (NDVI, EVI, GNDVI, SAVI) directly from enriched tiles
- **Multi-Modal Datasets**: Combine Geometry + RGB + NIR for superior machine learning models
- **Smart Caching**: Efficient disk and GPU caching system (shared with RGB augmentation)
- **Seamless Integration**: Works alongside RGB augmentation in the enrich pipeline

### CLI Integration

```bash
# Enrich with infrared
ign-lidar-hd enrich --input tiles/ --output enriched/ --add-infrared

# Combined RGB + Infrared (recommended)
ign-lidar-hd enrich --input tiles/ --output enriched/ \
  --add-rgb --add-infrared \
  --rgb-cache-dir cache/rgb \
  --infrared-cache-dir cache/infrared

# Full-featured processing
ign-lidar-hd enrich --input tiles/ --output enriched/ \
  --mode full --auto-params --preprocess \
  --add-rgb --add-infrared \
  --use-gpu
```

### Pipeline Configuration (YAML)

```yaml
enrich:
  mode: full
  add_rgb: true
  rgb_cache_dir: "cache/rgb"

  # New: Infrared augmentation
  add_infrared: true
  infrared_cache_dir: "cache/infrared"
```

### Python API

```python
from ign_lidar.infrared_augmentation import IGNInfraredFetcher
import numpy as np

# Initialize fetcher
fetcher = IGNInfraredFetcher(cache_dir="cache/infrared/")

# Augment points with NIR values
nir_values = fetcher.augment_points_with_infrared(points)

# Calculate NDVI
ndvi = (nir - red) / (nir + red + 1e-8)
```

### Output Format

- **Extra Dimension**: NIR values stored as 'nir' extra dimension (uint8, 0-255)
- **LAZ 1.4 Compatibility**: Standard LAZ format with extra dimensions
- **CloudCompare Support**: View NIR values as scalar fields

### Bug Fixes

- Fixed metadata copying for single-file input (issue with relative path calculation)
- Enhanced COPC format handling and conversion
- Improved error handling for WMS service requests

### Documentation Updates

- Added comprehensive [Infrared Augmentation Guide](/docs/features/infrared-augmentation)
- NDVI calculation examples and use cases
- CloudCompare visualization guide for NIR field
- Updated all example configurations with infrared settings
- Enhanced French and English documentation

## Breaking Changes

None

## Installation

Update to the latest version using:

```bash
pip install --upgrade ign-lidar-hd==1.7.2
```

## Compatibility

- Python 3.8+
- All existing APIs remain compatible

## Contributors

- Simon Ducournau

---

For complete documentation, visit our [documentation site](https://sducournau.github.io/IGN_LIDAR_HD_DATASET/).
