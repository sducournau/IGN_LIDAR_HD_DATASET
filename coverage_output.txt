[1m============================= test session starts ==============================[0m
platform linux -- Python 3.13.9, pytest-8.4.2, pluggy-1.5.0 -- /home/simon/miniconda3/bin/python3.13
cachedir: .pytest_cache
rootdir: /mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET
configfile: pytest.ini
plugins: hydra-core-1.3.2, cov-7.0.0, anyio-4.11.0, dash-3.3.0
[1mcollecting ... [0mcollected 1157 items / 3 skipped

tests/test_asprs_class_rules.py::TestWaterDetection::test_water_detection_basic [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestWaterDetection::test_water_detection_ndwi_required [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestWaterDetection::test_water_detection_thresholds [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestBridgeDetection::test_bridge_detection_basic [32mPASSED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestBridgeDetection::test_bridge_detection_dimensions [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestRailwayDetection::test_railway_detection_basic [32mPASSED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestRailwayDetection::test_railway_parallel_tracks [32mPASSED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestOverheadStructureDetection::test_overhead_structure_basic [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestOverheadStructureDetection::test_overhead_structure_length_filter [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestNoiseClassification::test_noise_detection_basic [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestNoiseClassification::test_noise_isolation_threshold [31mFAILED[0m[31m [  0%][0m
tests/test_asprs_class_rules.py::TestIntegration::test_apply_all_rules [31mFAILED[0m[31m [  1%][0m
tests/test_asprs_class_rules.py::test_config_creation [32mPASSED[0m[31m             [  1%][0m
tests/test_asprs_constants.py::TestASPRSClassWrapper::test_wrapper_exports_enum [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestASPRSClassWrapper::test_standard_codes_accessible [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestASPRSClassWrapper::test_enum_values_work_as_ints [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestGetClassName::test_get_class_name_common [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestGetClassName::test_get_class_name_with_int [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestGetClassName::test_get_class_name_unknown [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_vegetation [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_ground [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_building [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_water [32mPASSED[0m[31m [  1%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_transport [32mPASSED[0m[31m [  2%][0m
tests/test_asprs_constants.py::TestClassificationHelpers::test_is_noise [32mPASSED[0m[31m [  2%][0m
tests/test_asprs_constants.py::TestIntegration::test_typical_usage_pattern [32mPASSED[0m[31m [  2%][0m
tests/test_asprs_constants.py::TestIntegration::test_wrapper_import_convenience [32mPASSED[0m[31m [  2%][0m
tests/test_asprs_constants.py::TestIntegration::test_can_use_in_classifiers [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetectorInit::test_default_initialization [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetectorInit::test_custom_initialization [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetection::test_empty_point_cloud [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetection::test_missing_verticality_feature [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetection::test_detect_balcony [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestBalconyDetection::test_no_protrusions [32mPASSED[0m[31m [  2%][0m
tests/test_balcony_detector.py::TestFacadeExtraction::test_extract_rectangular_facade [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestFacadeExtraction::test_extract_complex_facade [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestDistanceComputation::test_distance_from_single_facade [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestCandidateDetection::test_detect_candidates_basic [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestProtrusionClassification::test_classify_balcony_geometry [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestProtrusionClassification::test_classify_overhang_geometry [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestResultDataclass::test_empty_result_creation [32mPASSED[0m[31m [  3%][0m
tests/test_balcony_detector.py::TestResultDataclass::test_result_with_detections [32mPASSED[0m[31m [  3%][0m
tests/test_base_classifier.py::TestClassificationResult::test_create_result [32mPASSED[0m[31m [  3%][0m
tests/test_base_classifier.py::TestClassificationResult::test_result_without_confidence [32mPASSED[0m[31m [  3%][0m
tests/test_base_classifier.py::TestClassificationResult::test_result_validation_labels_not_array [32mPASSED[0m[31m [  3%][0m
tests/test_base_classifier.py::TestClassificationResult::test_result_validation_labels_wrong_shape [32mPASSED[0m[31m [  3%][0m
tests/test_base_classifier.py::TestClassificationResult::test_result_validation_confidence_mismatch [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestClassificationResult::test_get_statistics_basic [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestClassificationResult::test_get_statistics_with_confidence [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestClassificationResult::test_filter_by_confidence [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestClassificationResult::test_filter_by_confidence_no_confidence [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestClassificationResult::test_get_class_mask [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestBaseClassifierInterface::test_cannot_instantiate_abstract_class [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestBaseClassifierInterface::test_must_implement_classify [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_classify_basic [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_valid [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_invalid_points_type [32mPASSED[0m[31m [  4%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_invalid_points_shape [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_empty_points [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_invalid_features_type [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_empty_features [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_feature_wrong_length [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_feature_non_numeric [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_feature_has_nan [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_validate_inputs_feature_has_inf [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::TestConcreteClassifier::test_classifier_repr [32mPASSED[0m[31m [  5%][0m
tests/test_base_classifier.py::test_full_classification_pipeline [32mPASSED[0m[31m  [  5%][0m
tests/test_building_bbox_optimize.py::test_optimize_bbox_for_building_translation [32mPASSED[0m[31m [  5%][0m
tests/test_building_classifier.py::TestClassifierInit::test_default_initialization [32mPASSED[0m[31m [  5%][0m
tests/test_building_classifier.py::TestClassifierInit::test_custom_config [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestClassifierInit::test_all_detectors_disabled [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestClassification::test_empty_point_cloud [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestClassification::test_missing_required_features [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestClassification::test_classify_complex_building [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestClassification::test_convenience_function [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestDetectorIntegration::test_roof_only_classification [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestDetectorIntegration::test_chimney_requires_roof [32mPASSED[0m[31m [  6%][0m
tests/test_building_classifier.py::TestStatisticsComputation::test_stats_all_detectors [32mPASSED[0m[31m [  6%][0m
tests/test_building_integration.py::test_building_config_initialization [32mPASSED[0m[31m [  6%][0m
tests/test_building_integration.py::test_building_config_presets [32mPASSED[0m[31m  [  6%][0m
tests/test_building_integration.py::test_building_config_to_dict [32mPASSED[0m[31m  [  7%][0m
tests/test_building_integration.py::test_building_config_from_dict [32mPASSED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classifier_initialization_without_enhanced [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classifier_initialization_with_enhanced_default [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classifier_initialization_with_enhanced_custom [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classify_single_building_without_enhanced [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classify_single_building_with_enhanced [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classify_buildings_batch [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classifier_with_invalid_features [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_classifier_with_empty_building [31mFAILED[0m[31m [  7%][0m
tests/test_building_integration.py::test_performance_overhead [31mFAILED[0m[31m     [  7%][0m
tests/test_building_plane_clustering.py::test_building_plane_integration [32mPASSED[0m[31m [  7%][0m
tests/test_building_plane_clustering.py::test_building_plane_without_footprints [32mPASSED[0m[31m [  8%][0m
tests/test_building_plane_clustering.py::test_relative_height_values [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetectorInit::test_default_initialization [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetectorInit::test_custom_initialization [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_empty_point_cloud [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_missing_verticality_feature [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_insufficient_roof_points [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_detect_chimney [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_detect_antenna [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestChimneyDetection::test_no_superstructures [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestRoofPlane::test_fit_horizontal_plane [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestRoofPlane::test_fit_sloped_plane [32mPASSED[0m[31m [  8%][0m
tests/test_chimney_detector.py::TestRoofPlane::test_insufficient_points [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestHeightComputation::test_height_above_horizontal_plane [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestProtrusionDetection::test_detect_vertical_protrusions [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestSuperstructureClassification::test_classify_chimney_geometry [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestSuperstructureClassification::test_classify_antenna_geometry [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestSuperstructureClassification::test_classify_ventilation_geometry [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestResultDataclass::test_empty_result_creation [32mPASSED[0m[31m [  9%][0m
tests/test_chimney_detector.py::TestResultDataclass::test_result_with_detections [32mPASSED[0m[31m [  9%][0m
tests/test_classification_thresholds.py::TestThresholdConsistency::test_road_height_threshold_consistency [31mFAILED[0m[31m [  9%][0m
tests/test_classification_thresholds.py::TestThresholdConsistency::test_tree_canopy_threshold_consistency [32mPASSED[0m[31m [  9%][0m
tests/test_classification_thresholds.py::TestThresholdConsistency::test_ndvi_thresholds_consistency [31mFAILED[0m[31m [  9%][0m
tests/test_classification_thresholds.py::TestRoadVegetationSeparation::test_road_surface_classification [31mFAILED[0m[31m [ 10%][0m
tests/test_classification_thresholds.py::TestRoadVegetationSeparation::test_tree_canopy_exclusion [32mPASSED[0m[31m [ 10%][0m
tests/test_classification_thresholds.py::TestRoadVegetationSeparation::test_edge_case_at_threshold [31mFAILED[0m[31m [ 10%][0m
tests/test_classification_thresholds.py::TestGeometricRulesThresholds::test_road_vegetation_overlap_fix [31mFAILED[0m[31m [ 10%][0m
tests/test_classification_thresholds.py::TestClassifierRules::test_road_rule_thresholds [31mFAILED[0m[31m [ 10%][0m
tests/test_classification_thresholds.py::TestIntegration::test_full_pipeline_consistency [31mFAILED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigBasics::test_config_creation_minimal [32mPASSED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigBasics::test_config_with_custom_values [32mPASSED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigBasics::test_feature_config [32mPASSED[0m[31m       [ 10%][0m
tests/test_config.py::TestConfigPresets::test_asprs_production_preset [32mPASSED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigPresets::test_lod2_buildings_preset [32mPASSED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigPresets::test_gpu_optimized_preset [32mPASSED[0m[31m [ 10%][0m
tests/test_config.py::TestConfigPresets::test_preset_with_overrides [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigPresets::test_invalid_preset_name [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigFromEnvironment::test_from_environment_basic [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigFromEnvironment::test_from_environment_with_overrides [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigMigration::test_migrate_v31_to_v32 [31mFAILED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigMigration::test_migrate_feature_mode_mapping [31mFAILED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigValidation::test_validation_missing_input_dir [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigValidation::test_validation_invalid_patch_size [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigValidation::test_validation_invalid_num_workers [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestFeatureConfig::test_ndvi_requires_rgb_and_nir [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestFeatureConfig::test_multi_scale_default_scales [32mPASSED[0m[31m [ 11%][0m
tests/test_config.py::TestConfigSerialization::test_to_dict [32mPASSED[0m[31m       [ 12%][0m
tests/test_config.py::test_config_repr [32mPASSED[0m[31m                            [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_curvature_standard [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_curvature_normalized [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_curvature_gaussian [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_curvature_input_validation [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_mean_curvature [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_shape_index [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_curvedness [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_compute_all_curvature_features [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_epsilon_handling [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_flat_surface [32mPASSED[0m[31m [ 12%][0m
tests/test_core_curvature.py::TestCurvatureFeatures::test_sharp_edge [32mPASSED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_planar [32mPASSED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_curved [32mPASSED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_batched_cpu [32mPASSED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_gpu [33mSKIPPED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_consistency [32mPASSED[0m[31m [ 13%][0m
tests/test_core_curvature.py::TestNormalBasedCurvature::test_compute_curvature_from_normals_sphere [32mPASSED[0m[31m [ 13%][0m
tests/test_core_gpu.py::TestGPUManager::test_singleton_pattern [32mPASSED[0m[31m    [ 13%][0m
tests/test_core_gpu.py::TestGPUManager::test_get_gpu_manager_convenience [32mPASSED[0m[31m [ 13%][0m
tests/test_core_gpu.py::TestGPUManager::test_backward_compatibility_aliases [32mPASSED[0m[31m [ 13%][0m
tests/test_core_gpu.py::TestGPUManager::test_get_info [32mPASSED[0m[31m             [ 13%][0m
tests/test_core_gpu.py::TestGPUManager::test_repr [32mPASSED[0m[31m                 [ 14%][0m
tests/test_core_gpu.py::TestGPUManager::test_reset_cache [32mPASSED[0m[31m          [ 14%][0m
tests/test_core_gpu.py::TestGPUDetection::test_cupy_detection_success [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUDetection::test_cupy_detection_failure [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUDetection::test_cuml_requires_gpu [32mPASSED[0m[31m  [ 14%][0m
tests/test_core_gpu.py::TestGPUDetection::test_cuspatial_requires_gpu [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUDetection::test_faiss_requires_gpu [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerIntegration::test_properties_are_cached [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerIntegration::test_all_properties_accessible [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerIntegration::test_get_info_consistency [32mPASSED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerWithGPU::test_gpu_detection_with_hardware [33mSKIPPED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerWithGPU::test_cuml_with_gpu [33mSKIPPED[0m[31m [ 14%][0m
tests/test_core_gpu.py::TestGPUManagerWithGPU::test_get_info_with_gpu [33mSKIPPED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUManagerSingleton::test_singleton_returns_same_instance [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUManagerSingleton::test_singleton_state_shared [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_gpu_available_property [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_cuml_available_property [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_cuspatial_available_property [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_faiss_gpu_available_property [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_gpu_detection_with_cupy [31mFAILED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGPUDetection::test_cuml_requires_gpu [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestCaching::test_gpu_check_cached [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestCaching::test_reset_cache_clears_all [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGetInfo::test_get_info_returns_dict [32mPASSED[0m[31m [ 15%][0m
tests/test_core_gpu_manager.py::TestGetInfo::test_get_info_consistency [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestBackwardCompatibility::test_gpu_available_module_level [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestBackwardCompatibility::test_has_cupy_alias [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestBackwardCompatibility::test_get_gpu_manager_function [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestRepr::test_repr_format [32mPASSED[0m[31m        [ 16%][0m
tests/test_core_gpu_manager.py::TestModuleIntegration::test_import_from_normalization [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestModuleIntegration::test_import_from_strategy_gpu [32mPASSED[0m[31m [ 16%][0m
tests/test_core_gpu_manager.py::TestModuleIntegration::test_import_from_gpu_wrapper [32mPASSED[0m[31m [ 16%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_basic_ground_plane [32mPASSED[0m[31m [ 16%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_min_z_method [32mPASSED[0m[31m [ 16%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_no_ground_points_fallback [32mPASSED[0m[31m [ 16%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_custom_ground_class [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_negative_heights_clamped [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_dtm_method_not_implemented [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_invalid_method [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_invalid_points_shape [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_invalid_classification_shape [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_mismatched_lengths [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeHeightAboveGround::test_output_dtype [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeRelativeHeight::test_relative_to_ground [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeRelativeHeight::test_relative_to_water [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeNormalizedHeight::test_auto_max_height [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeNormalizedHeight::test_fixed_max_height [32mPASSED[0m[31m [ 17%][0m
tests/test_core_height.py::TestComputeNormalizedHeight::test_exceeding_max_height_clamped [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeNormalizedHeight::test_zero_max_height [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeHeightPercentile::test_95th_percentile [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeHeightPercentile::test_median_percentile [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeHeightBins::test_evenly_spaced_bins [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeHeightBins::test_custom_bin_edges [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestComputeHeightBins::test_output_dtype [32mPASSED[0m[31m [ 18%][0m
tests/test_core_height.py::TestIntegration::test_workflow_building_analysis [32mPASSED[0m[31m [ 18%][0m
tests/test_core_normals.py::TestComputeNormals::test_basic_normals_computation [32mPASSED[0m[31m [ 18%][0m
tests/test_core_normals.py::TestComputeNormals::test_normals_on_sphere [32mPASSED[0m[31m [ 18%][0m
tests/test_core_normals.py::TestComputeNormals::test_input_validation [32mPASSED[0m[31m [ 18%][0m
tests/test_core_normals.py::TestComputeNormals::test_eigenvalues_sorted [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_normals_fast_method [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_normals_fast_deprecated [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_normals_accurate_method [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_normals_accurate_deprecated [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_return_eigenvalues_parameter [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_gpu_computation [33mSKIPPED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_gpu_unavailable_error [33mSKIPPED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_deterministic_output [32mPASSED[0m[31m [ 19%][0m
tests/test_core_normals.py::TestComputeNormals::test_large_point_cloud [32mPASSED[0m[31m [ 19%][0m
tests/test_core_utils_matrix.py::TestGetArrayModule::test_numpy_array [32mPASSED[0m[31m [ 19%][0m
tests/test_core_utils_matrix.py::TestGetArrayModule::test_list_returns_numpy [32mPASSED[0m[31m [ 19%][0m
tests/test_core_utils_matrix.py::TestGetArrayModule::test_cupy_array [33mSKIPPED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_single_identity_matrix [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_single_diagonal_matrix [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_batch_of_random_matrices [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_near_singular_matrix [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_large_batch [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_output_dtype_preserved [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_cupy_array [33mSKIPPED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestBatchedInverse3x3::test_analytic_vs_numpy_linalg [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_single_covariance_matrix [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_batch_of_covariances [32mPASSED[0m[31m [ 20%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_upward_orientation [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_convergence_iterations [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_singular_matrix_handling [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_compare_with_full_eigh [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestInversePowerIteration::test_cupy_array [33mSKIPPED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestIntegration::test_normal_computation_workflow [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestIntegration::test_inverse_and_power_iteration_combined [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestPerformance::test_batched_vs_loop_inverse [32mPASSED[0m[31m [ 21%][0m
tests/test_core_utils_matrix.py::TestPerformance::test_power_iteration_vs_eigh [32mPASSED[0m[31m [ 21%][0m
tests/test_eigenvalue_integration.py::test_eigenvalue_integration [31mFAILED[0m[31m [ 21%][0m
tests/test_exception_handling.py::TestProcessingError::test_basic_error [32mPASSED[0m[31m [ 21%][0m
tests/test_exception_handling.py::TestProcessingError::test_error_with_context [32mPASSED[0m[31m [ 21%][0m
tests/test_exception_handling.py::TestProcessingError::test_error_with_suggestions [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestGPUMemoryError::test_from_cuda_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestGPUMemoryError::test_without_context [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestGPUNotAvailableError::test_create_gpu_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestFeatureComputationError::test_create_feature_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestFeatureComputationError::test_memory_error_suggestion [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestDataFetchError::test_create_data_fetch_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestDataFetchError::test_timeout_specific_suggestions [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestDataFetchError::test_404_specific_suggestions [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestInitializationError::test_create_init_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestInitializationError::test_import_error_suggestions [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestCacheError::test_create_cache_error [32mPASSED[0m[31m [ 22%][0m
tests/test_exception_handling.py::TestCacheError::test_permission_specific_suggestions [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestConfigurationError::test_create_config_error [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestFileProcessingError::test_create_file_error [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestFileProcessingError::test_corrupt_file_suggestions [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestMemoryPressureError::test_create_memory_pressure_error [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestExceptionHandlingIntegration::test_orchestrator_handles_missing_cupy [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestExceptionHandlingIntegration::test_orchestrator_handles_invalid_config [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestErrorFormattingConsistency::test_all_errors_have_separator_lines [32mPASSED[0m[31m [ 23%][0m
tests/test_exception_handling.py::TestErrorFormattingConsistency::test_all_errors_have_suggestions [32mPASSED[0m[31m [ 23%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureSanitization::test_sanitize_feature_with_nan [32mPASSED[0m[31m [ 23%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureSanitization::test_sanitize_feature_with_inf [32mPASSED[0m[31m [ 23%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureSanitization::test_sanitize_feature_with_outliers [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureSanitization::test_sanitize_feature_no_issues [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureSanitization::test_sanitize_feature_all_nan [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureValidation::test_validate_features_all_valid [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureValidation::test_validate_features_with_nan [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureValidation::test_validate_features_missing_required [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureValidation::test_validate_features_with_mask [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestFeatureValidation::test_validate_vector_features [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestSafeBuildingMask::test_create_safe_mask_with_ground_filter [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestSafeBuildingMask::test_create_safe_mask_no_ground_feature [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestSafeBuildingMask::test_create_safe_mask_no_filtering [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestEdgeDetectionRobustness::test_edge_detection_with_nan_curvature [32mPASSED[0m[31m [ 24%][0m
tests/test_facade_classification_bugfixes.py::TestEdgeDetectionRobustness::test_edge_detection_with_inf_curvature [32mPASSED[0m[31m [ 25%][0m
tests/test_facade_classification_bugfixes.py::TestRoofClassificationSafety::test_roof_features_validation [32mPASSED[0m[31m [ 25%][0m
tests/test_facade_classification_bugfixes.py::TestBuildingClassificationIntegration::test_full_classification_pipeline_with_artifacts [32mPASSED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_gpu_knn_import [32mPASSED[0m[31m            [ 25%][0m
tests/test_facade_optimization.py::test_facade_processor_uses_gpu_knn [31mFAILED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_gpu_knn_performance_vs_cpu [32mPASSED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_parallel_facade_processing [31mFAILED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_parallel_processing_with_single_facade [31mFAILED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_vectorized_projection [31mFAILED[0m[31m     [ 25%][0m
tests/test_facade_optimization.py::test_vectorized_vs_loop_consistency [32mPASSED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_full_facade_pipeline_optimized [31mFAILED[0m[31m [ 25%][0m
tests/test_facade_optimization.py::test_backward_compatibility [32mPASSED[0m[31m    [ 26%][0m
tests/test_facade_optimization.py::test_performance_target_50k_points [31mFAILED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_rotate_points_2d [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_apply_rotation_to_line [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_compute_alignment_score [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_detect_optimal_rotation_no_rotation_needed [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_detect_optimal_rotation_with_misalignment [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_rotation.py::TestFacadeRotation::test_insufficient_points_for_rotation [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_project_points_on_facade_direction [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_apply_scaling_to_line [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_detect_optimal_scale_no_scaling_needed [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_detect_optimal_scale_needs_expansion [32mPASSED[0m[31m [ 26%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_detect_optimal_scale_needs_shrinkage [32mPASSED[0m[31m [ 27%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_detect_optimal_scale_clamping [32mPASSED[0m[31m [ 27%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_insufficient_points_for_scaling [32mPASSED[0m[31m [ 27%][0m
tests/test_facade_scaling.py::TestFacadeScaling::test_facade_scaling_integration [32mPASSED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_adaptive_index_selection_logic [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_ivf_parameters_scaling [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_pq_parameters_calculation [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_training_size_calculation [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_flat_index_build [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_ivfflat_index_build [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_ivfpq_index_build [33mSKIPPED[0m[31m [ 27%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_index_memory_footprint [33mSKIPPED[0m[31m [ 28%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_index_query_performance [33mSKIPPED[0m[31m [ 28%][0m
tests/test_faiss_optimization.py::TestFAISSOptimization::test_accuracy_comparison [33mSKIPPED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_initialization_default [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_initialization_with_force_mode [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_initialization_with_progress_callback [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_get_cpu_computer_lazy_load [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_get_gpu_computer_lazy_load [33mSKIPPED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_select_mode_automatic [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_select_mode_forced [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_select_mode_override [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_report_progress_with_callback [32mPASSED[0m[31m [ 28%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_report_progress_without_callback [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_normals_cpu [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_normals_gpu [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_curvature_cpu [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_geometric_features_gpu [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_normals_with_boundary [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_get_mode_recommendations [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_all_features [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_compute_all_features_with_progress [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_factory_function [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_factory_function_with_callback [32mPASSED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_mode_override_parameter [31mFAILED[0m[31m [ 29%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_boundary_mode_error_for_regular_normals [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_computer.py::TestFeatureComputer::test_boundary_mode_error_for_curvature [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_computer.py::TestUnifiedComputerIntegration::test_real_computation_cpu_mode [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_computer.py::TestUnifiedComputerIntegration::test_real_computation_auto_mode [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_computer.py::TestUnifiedComputerIntegration::test_mode_recommendations_realistic [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_no_artifacts [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_with_artifacts [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_with_nan [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_with_inf [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_parameter_k_neighbors [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_parameter_threshold [32mPASSED[0m[31m [ 30%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_validate_feature_clean [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_validate_feature_with_nan_inf [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_validate_feature_out_of_range [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_validate_feature_outlier_clipping [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_empty_input [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestGenericFeatureFiltering::test_smooth_feature_insufficient_neighbors [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestPlanarityFiltering::test_smooth_planarity_spatial [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestPlanarityFiltering::test_validate_planarity [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestPlanarityFiltering::test_backward_compatibility_with_v306 [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestLinearityFiltering::test_smooth_linearity_spatial [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestLinearityFiltering::test_validate_linearity [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestLinearityFiltering::test_linearity_artifact_removal [32mPASSED[0m[31m [ 31%][0m
tests/test_feature_filtering.py::TestHorizontalityFiltering::test_smooth_horizontality_spatial [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestHorizontalityFiltering::test_validate_horizontality [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestHorizontalityFiltering::test_horizontality_roof_boundary_artifacts [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestMultiFeatureIntegration::test_all_three_features_together [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestMultiFeatureIntegration::test_feature_consistency_after_filtering [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestEdgeCases::test_single_point [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestEdgeCases::test_all_nan_input [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestEdgeCases::test_mismatched_dimensions [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestEdgeCases::test_invalid_k_neighbors [32mPASSED[0m[31m [ 32%][0m
tests/test_feature_filtering.py::TestEdgeCases::test_2d_points [32mPASSED[0m[31m    [ 32%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_filter_versailles_planarity [31mFAILED[0m[31m [ 32%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_filter_versailles_linearity [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_filter_versailles_horizontality [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_filter_all_three_features_versailles [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_performance_benchmark [31mFAILED[0m[31m [ 33%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringIntegration::test_multiple_tiles_consistency [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_filtering_integration.py::TestFeatureFilteringValidation::test_edge_detection_preservation [31mFAILED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestStrategySelection::test_auto_select_small_dataset [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestStrategySelection::test_force_cpu_mode [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestStrategySelection::test_auto_select_medium_dataset_with_gpu [33mSKIPPED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestStrategySelection::test_auto_select_large_dataset_with_gpu [33mSKIPPED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestStrategySelection::test_get_available_strategies [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestCPUStrategy::test_cpu_strategy_initialization [32mPASSED[0m[31m [ 33%][0m
tests/test_feature_strategies.py::TestCPUStrategy::test_cpu_strategy_compute_small_dataset [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestCPUStrategy::test_cpu_strategy_with_rgb [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestGPUStrategy::test_gpu_strategy_initialization [33mSKIPPED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestGPUStrategy::test_gpu_strategy_compute [33mSKIPPED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestGPUChunkedStrategy::test_gpu_chunked_strategy_initialization [33mSKIPPED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestGPUChunkedStrategy::test_gpu_chunked_week1_optimization [33mSKIPPED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestStrategyRepresentation::test_cpu_strategy_repr [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_strategies.py::TestStrategyRepresentation::test_gpu_strategy_repr [33mSKIPPED[0m[31m [ 34%][0m
tests/test_feature_utils.py::TestBuildKDTree::test_build_kdtree_default [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_utils.py::TestBuildKDTree::test_build_kdtree_custom_leaf_size [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_utils.py::TestBuildKDTree::test_build_kdtree_different_metrics [32mPASSED[0m[31m [ 34%][0m
tests/test_feature_utils.py::TestBuildKDTree::test_quick_kdtree [32mPASSED[0m[31m   [ 35%][0m
tests/test_feature_utils.py::TestComputeLocalEigenvalues::test_compute_eigenvalues_basic [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestComputeLocalEigenvalues::test_compute_eigenvalues_with_tree [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestComputeLocalEigenvalues::test_compute_eigenvalues_return_tree [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestComputeLocalEigenvalues::test_compute_eigenvalues_different_k [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestComputeLocalEigenvalues::test_compute_eigenvalues_sorted [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_valid_points [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_wrong_type [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_wrong_shape [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_too_few_points [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_nan_values [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_inf_values [32mPASSED[0m[31m [ 35%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_skip_finite_check [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidatePointCloud::test_validate_custom_param_name [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_valid_normals [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_wrong_type [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_wrong_shape [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_nan_values [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_skip_finite_check [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateNormals::test_validate_custom_param_name [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_valid_k [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_wrong_type [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_negative_k [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_zero_k [32mPASSED[0m[31m [ 36%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_k_exceeds_points [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestValidateKNeighbors::test_validate_custom_param_name [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestGetOptimalLeafSize::test_small_dataset [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestGetOptimalLeafSize::test_medium_dataset [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestGetOptimalLeafSize::test_large_dataset [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestGetOptimalLeafSize::test_gpu_fallback [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestIntegration::test_full_workflow [32mPASSED[0m[31m  [ 37%][0m
tests/test_feature_utils.py::TestIntegration::test_error_propagation [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_utils.py::TestIntegration::test_realistic_point_cloud [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_validation.py::TestFeatureSignature::test_vegetation_signature_match [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_validation.py::TestFeatureSignature::test_vegetation_signature_no_match [32mPASSED[0m[31m [ 37%][0m
tests/test_feature_validation.py::TestFeatureSignature::test_building_signature_match [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureSignature::test_road_signature_match [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureSignature::test_partial_feature_match [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validator_initialization [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_vegetation_signature_check [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_building_signature_check [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_road_signature_check [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validate_building_roof_vegetation [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validate_tree_canopy_over_road [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validate_correct_building [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validate_correct_road [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_filter_false_positives [32mPASSED[0m[31m [ 38%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_classify_vegetation_by_height [32mPASSED[0m[31m [ 39%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_validate_with_missing_features [32mPASSED[0m[31m [ 39%][0m
tests/test_feature_validation.py::TestFeatureValidator::test_custom_config [32mPASSED[0m[31m [ 39%][0m
tests/test_feature_validation.py::TestIntegration::test_mixed_urban_scene [32mPASSED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIConstants::test_ndvi_constants_defined [32mPASSED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIConstants::test_ndvi_constants_values [32mPASSED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIConstants::test_ndvi_constants_ordering [32mPASSED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIConstants::test_alignment_with_advanced_classification [31mFAILED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_dense_forest_classification [31mFAILED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_healthy_trees_classification_with_height [31mFAILED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_healthy_trees_classification_without_height [31mFAILED[0m[31m [ 39%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_moderate_vegetation_classification [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_grass_classification_with_height [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_sparse_vegetation_classification [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_road_threshold_vegetation_removal [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_unclassified_multilevel_classification [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_water_preservation [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestMultiLevelNDVIRefinement::test_no_change_for_correct_classifications [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestGeometricRulesIntegration::test_apply_all_rules_with_multilevel_ndvi [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestGeometricRulesIntegration::test_height_calculation_integration [31mFAILED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestBackwardCompatibility::test_legacy_ndvi_vegetation_threshold_parameter [32mPASSED[0m[31m [ 40%][0m
tests/test_geometric_rules_multilevel_ndvi.py::TestBackwardCompatibility::test_road_threshold_still_used [31mFAILED[0m[31m [ 40%][0m
tests/test_gpu_accelerated_ops.py::test_gpu_detection [32mPASSED[0m[31m             [ 40%][0m
tests/test_gpu_accelerated_ops.py::test_force_cpu_mode [32mPASSED[0m[31m            [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_set_force_cpu [32mPASSED[0m[31m             [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_eigh_basic [32mPASSED[0m[31m                [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_eigvalsh_basic [32mPASSED[0m[31m            [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_eigh_gpu_vs_cpu [33mSKIPPED[0m (CuPy
not available)[31m                                                           [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_eigvalsh_gpu_vs_cpu [33mSKIPPED[0m[31m      [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_eigh_single_matrix [31mFAILED[0m[31m        [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_knn_basic [32mPASSED[0m[31m                 [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_knn_with_query [32mPASSED[0m[31m            [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_knn_faiss_vs_cpu [33mSKIPPED[0m (FAISS-
GPU not available)[31m                                                       [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_knn_k_parameter [31mFAILED[0m[31m           [ 41%][0m
tests/test_gpu_accelerated_ops.py::test_cdist_basic [32mPASSED[0m[31m               [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_cdist_gpu_vs_cpu [33mSKIPPED[0m (CuPy
not available)[31m                                                           [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_cdist_same_points [32mPASSED[0m[31m         [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_svd_basic [32mPASSED[0m[31m                 [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_svd_gpu_vs_cpu [33mSKIPPED[0m (CuPy not
available)[31m                                                               [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_svd_reconstruction [32mPASSED[0m[31m        [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_eigh_performance [33mSKIPPED[0m (CuPy
not available)[31m                                                           [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_knn_performance [33mSKIPPED[0m (FAISS-
GPU not available)[31m                                                       [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_fallback_when_gpu_error [33mSKIPPED[0m[31m  [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_invalid_input_eigh [31mFAILED[0m[31m        [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_invalid_input_knn [31mFAILED[0m[31m         [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_full_pipeline_eigenvalues [32mPASSED[0m[31m [ 42%][0m
tests/test_gpu_accelerated_ops.py::test_memory_management_large_dataset [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_initialization_cpu [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_initialization_gpu [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_initialization_custom_params [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_compute_eigenvalues_cpu [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_compute_eigenvalues_gpu [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_gpu_cpu_consistency [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_batched_computation [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_eigenvalue_features_integration [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_feature_consistency_gpu_vs_cpu [33mSKIPPED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_planar_features [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_linear_features [32mPASSED[0m[31m [ 43%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_invalid_inputs [32mPASSED[0m[31m  [ 44%][0m
tests/test_gpu_bridge.py::TestGPUCoreBridge::test_eigenvectors_option [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_bridge.py::TestConvenienceFunctions::test_compute_eigenvalues_gpu_function [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_bridge.py::TestConvenienceFunctions::test_compute_eigenvalue_features_gpu_function [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_bridge.py::TestConvenienceFunctions::test_convenience_vs_class_consistency [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_bridge.py::TestPerformance::test_gpu_speedup [33mSKIPPED[0m[31m      [ 44%][0m
tests/test_gpu_bridge.py::TestPerformance::test_feature_computation_overhead [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_bridge.py::TestEdgeCases::test_zero_neighbors [32mPASSED[0m[31m      [ 44%][0m
tests/test_gpu_bridge.py::TestEdgeCases::test_single_point [32mPASSED[0m[31m        [ 44%][0m
tests/test_gpu_bridge.py::TestEdgeCases::test_identical_points [32mPASSED[0m[31m    [ 44%][0m
tests/test_gpu_bridge.py::TestEdgeCases::test_numerical_stability [32mPASSED[0m[31m [ 44%][0m
tests/test_gpu_composition_api.py::TestGPUManagerCompositionBasics::test_gpu_manager_instantiation [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestGPUManagerCompositionBasics::test_singleton_pattern [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestGPUManagerCompositionBasics::test_get_gpu_manager_function [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestCompositionAPIProperties::test_memory_property_exists [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestCompositionAPIProperties::test_cache_property_exists [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestCompositionAPIProperties::test_memory_lazy_loading [33mSKIPPED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestCompositionAPIProperties::test_cache_lazy_loading [33mSKIPPED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestConvenienceMethods::test_get_memory_info_no_gpu [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestConvenienceMethods::test_get_memory_info_with_gpu [33mSKIPPED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestConvenienceMethods::test_cleanup_method_exists [31mFAILED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestConvenienceMethods::test_cleanup_clears_resources [33mSKIPPED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestBackwardCompatibility::test_old_gpu_available_import [32mPASSED[0m[31m [ 45%][0m
tests/test_gpu_composition_api.py::TestBackwardCompatibility::test_old_has_cupy_import [32mPASSED[0m[31m [ 46%][0m
tests/test_gpu_composition_api.py::TestBackwardCompatibility::test_get_info_still_works [32mPASSED[0m[31m [ 46%][0m
tests/test_gpu_composition_api.py::TestGPUIntegration::test_memory_allocation_check [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_composition_api.py::TestGPUIntegration::test_cache_basic_operations [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_composition_api.py::TestUsageExamples::test_recommended_usage_pattern [32mPASSED[0m[31m [ 46%][0m
tests/test_gpu_composition_api.py::TestUsageExamples::test_composition_api_pattern [32mPASSED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_gpu_eigenvalue_basic [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_gpu_eigenvalue_normal_computation [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_gpu_eigenvalue_performance [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_gpu_memory_fallback [33mSKIPPED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_cpu_fallback_when_gpu_unavailable [32mPASSED[0m[31m [ 46%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_eigenvalue_accuracy [33mSKIPPED[0m[31m [ 47%][0m
tests/test_gpu_eigenvalue_optimization.py::TestGPUEigenvalueOptimization::test_batch_eigenvalue_computation [33mSKIPPED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_uint8_basic [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_uint8_array_2d [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_uint8_inplace [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_uint8_inplace_wrong_dtype [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_empty_array [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_denormalize_float_basic [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_denormalize_with_clipping [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_denormalize_without_clipping [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_rgb_shape_validation [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_normalize_nir_basic [32mPASSED[0m[31m [ 47%][0m
tests/test_gpu_normalization.py::TestCPUNormalization::test_roundtrip_normalization [32mPASSED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_normalize_gpu_basic [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_normalize_gpu_with_cupy_input [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_normalize_gpu_large_array [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_normalize_rgb_gpu [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_denormalize_gpu_basic [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_gpu_fallback_on_error [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_gpu_memory_efficiency [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestGPUNormalization::test_roundtrip_gpu [33mSKIPPED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestUtilityFunctions::test_is_gpu_available [32mPASSED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestUtilityFunctions::test_normalize_rgb_wrapper [32mPASSED[0m[31m [ 48%][0m
tests/test_gpu_normalization.py::TestUtilityFunctions::test_normalize_nir_wrapper [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_normalize_single_value [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_normalize_all_zeros [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_normalize_all_max [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_denormalize_boundary_values [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_normalize_none_input [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestEdgeCases::test_denormalize_none_input [32mPASSED[0m[31m [ 49%][0m
tests/test_gpu_normalization.py::TestPerformance::test_cpu_vs_gpu_performance [33mSKIPPED[0m[31m [ 49%][0m
tests/test_gpu_optimizations.py::test_sor_gpu_availability [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 49%][0m
tests/test_gpu_optimizations.py::test_sor_gpu_correctness [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 49%][0m
tests/test_gpu_optimizations.py::test_sor_gpu_speedup [33mSKIPPED[0m (GPU not
available)[31m                                                               [ 49%][0m
tests/test_gpu_optimizations.py::test_ror_gpu_correctness [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 49%][0m
tests/test_gpu_optimizations.py::test_ror_gpu_speedup [33mSKIPPED[0m (GPU not
available)[31m                                                               [ 50%][0m
tests/test_gpu_optimizations.py::test_gpu_wrapper_decorator [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 50%][0m
tests/test_gpu_optimizations.py::test_gpu_context_manager [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 50%][0m
tests/test_gpu_optimizations.py::test_knn_graph_gpu_correctness [33mSKIPPED[0m[31m  [ 50%][0m
tests/test_gpu_optimizations.py::test_knn_graph_gpu_speedup [33mSKIPPED[0m (GPU
not available)[31m                                                           [ 50%][0m
tests/test_gpu_optimizations.py::test_preprocessing_pipeline_consistency[False] [33mSKIPPED[0m[31m [ 50%][0m
tests/test_gpu_optimizations.py::test_preprocessing_pipeline_consistency[True] [33mSKIPPED[0m[31m [ 50%][0m
tests/test_gpu_optimizations.py::test_overall_performance_summary [33mSKIPPED[0m[31m [ 50%][0m
tests/test_gpu_profiler.py::TestGPUProfilerBasics::test_profiler_creation [32mPASSED[0m[31m [ 50%][0m
tests/test_gpu_profiler.py::TestGPUProfilerBasics::test_profiler_creation_disabled [32mPASSED[0m[31m [ 50%][0m
tests/test_gpu_profiler.py::TestGPUProfilerBasics::test_factory_function [32mPASSED[0m[31m [ 50%][0m
tests/test_gpu_profiler.py::TestGPUProfilerBasics::test_profiler_reset [32mPASSED[0m[31m [ 50%][0m
tests/test_gpu_profiler.py::TestProfilingContextManager::test_profile_context_disabled [32mPASSED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingContextManager::test_profile_context_enabled [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingContextManager::test_profile_multiple_operations [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingContextManager::test_profile_with_transfer [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingStatistics::test_empty_stats [32mPASSED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingStatistics::test_basic_stats [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingStatistics::test_transfer_stats [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingStatistics::test_bottleneck_detection [33mSKIPPED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestProfilingStatistics::test_operation_summary [32mPASSED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestGPUManagerIntegration::test_profiler_property_exists [32mPASSED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestGPUManagerIntegration::test_profiler_lazy_loading [32mPASSED[0m[31m [ 51%][0m
tests/test_gpu_profiler.py::TestGPUManagerIntegration::test_profiler_singleton_caching [32mPASSED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestGPUManagerIntegration::test_profiler_usage_through_manager [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestGPUManagerIntegration::test_cleanup_resets_profiler [31mFAILED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestPerformanceReporting::test_print_report_basic [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestPerformanceReporting::test_print_report_detailed [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestPerformanceReporting::test_print_report_empty [32mPASSED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestEdgeCases::test_profiler_without_cupy [32mPASSED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestEdgeCases::test_nested_profiling [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestEdgeCases::test_profiling_with_exception [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestRealGPUOperations::test_profile_matrix_operations [33mSKIPPED[0m[31m [ 52%][0m
tests/test_gpu_profiler.py::TestRealGPUOperations::test_profile_memory_transfers [33mSKIPPED[0m[31m [ 52%][0m
tests/test_ground_truth_cache.py::TestCacheKeyGeneration::test_identical_tiles_same_key [32mPASSED[0m[31m [ 52%][0m
tests/test_ground_truth_cache.py::TestCacheKeyGeneration::test_different_points_different_key [32mPASSED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestCacheKeyGeneration::test_different_ndvi_setting_different_key [32mPASSED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestMemoryCache::test_cache_hit [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestMemoryCache::test_cache_disabled [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestMemoryCache::test_cache_clear [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestLRUEviction::test_max_entries_eviction [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestLRUEviction::test_max_size_eviction [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestDiskCache::test_disk_cache_persistence [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestDiskCache::test_disk_cache_clear [32mPASSED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestCacheStatistics::test_cache_stats [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestBatchProcessing::test_batch_processing [31mFAILED[0m[31m [ 53%][0m
tests/test_ground_truth_cache.py::TestBatchProcessing::test_batch_with_cache_reuse [31mFAILED[0m[31m [ 54%][0m
tests/test_ground_truth_cache.py::TestCachePerformance::test_cache_speedup [31mFAILED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubSingleton::test_singleton_instance [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubSingleton::test_module_level_instance [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubSingleton::test_initial_state_no_components_loaded [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubSingleton::test_repr_no_components [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubLazyLoading::test_fetcher_lazy_loading [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubLazyLoading::test_optimizer_lazy_loading [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubLazyLoading::test_manager_lazy_loading [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubLazyLoading::test_refiner_lazy_loading [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubLazyLoading::test_property_caching [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_fetch_and_label_success [32mPASSED[0m[31m [ 54%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_fetch_and_label_no_data [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_prefetch_batch [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_process_tile_complete_with_refinement [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_process_tile_complete_without_refinement [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_clear_all_caches [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubConvenienceMethods::test_get_statistics [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubBackwardCompatibility::test_old_imports_still_work [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubBackwardCompatibility::test_hub_provides_same_classes [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubIntegration::test_can_access_all_properties [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubIntegration::test_repr_with_loaded_components [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubIntegration::test_statistics_with_no_components_loaded [32mPASSED[0m[31m [ 55%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubIntegration::test_clear_caches_with_no_components [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubErrorHandling::test_fetch_and_label_empty_points [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::TestGroundTruthHubErrorHandling::test_process_tile_complete_no_features_no_refinement [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_all_components_lazy_load[_fetcher-fetcher] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_all_components_lazy_load[_optimizer-optimizer] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_all_components_lazy_load[_manager-manager] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_all_components_lazy_load[_refiner-refiner] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_fetch_and_label_with_different_features[None] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_fetch_and_label_with_different_features[feature_types1] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_fetch_and_label_with_different_features[feature_types2] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_hub.py::test_fetch_and_label_with_different_features[feature_types3] [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_initialization [32mPASSED[0m[31m [ 56%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_auto_selection_small_dataset [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_auto_selection_medium_dataset [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_auto_selection_large_dataset [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_force_method [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_force_gpu_method [33mSKIPPED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_gpu_detection [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestGroundTruthOptimizer::test_hardware_detection_caching [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestMethodSelection::test_selection_with_no_gpu [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestMethodSelection::test_selection_with_gpu [33mSKIPPED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestOptimizerRepr::test_repr_cpu [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer.py::TestOptimizerRepr::test_repr_gpu [33mSKIPPED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_enabled_by_default [32mPASSED[0m[31m [ 57%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_disabled [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_key_generation [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_key_different_for_different_inputs [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_add_and_retrieve [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_miss [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_lru_eviction [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_size_eviction [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_clear [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_cache_stats [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestCacheV2::test_disk_cache [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestBatchProcessing::test_label_points_batch_empty [32mPASSED[0m[31m [ 58%][0m
tests/test_ground_truth_optimizer_v2.py::TestBatchProcessing::test_label_points_batch_calls_individual [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestBatchProcessing::test_label_points_batch_with_ndvi [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestBackwardCompatibility::test_old_import_shows_deprecation [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestBackwardCompatibility::test_old_import_works [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestBackwardCompatibility::test_old_init_signature_compatible [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestV2Integration::test_cache_speedup_on_repeated_tiles [32mPASSED[0m[31m [ 59%][0m
tests/test_ground_truth_optimizer_v2.py::TestV2Integration::test_batch_processing_with_cache [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_basic_is_ground [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_with_synthetic [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_with_stats [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_all_ground [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_no_ground [32mPASSED[0m[31m [ 59%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_custom_class [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_invalid_input [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_ground_density [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_identify_ground_gaps [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_large_dataset [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundFeature::test_is_ground_with_stats_no_synthetic [32mPASSED[0m[31m [ 60%][0m
tests/test_is_ground_feature.py::TestIsGroundIntegration::test_is_ground_in_orchestrator [32mPASSED[0m[31m [ 60%][0m
tests/test_knn_radius_search.py::TestKNNEngineRadiusSearch::test_radius_search_sklearn [32mPASSED[0m[31m [ 60%][0m
tests/test_knn_radius_search.py::TestKNNEngineRadiusSearch::test_radius_search_with_max_neighbors [32mPASSED[0m[31m [ 60%][0m
tests/test_knn_radius_search.py::TestKNNEngineRadiusSearch::test_radius_search_separate_query [32mPASSED[0m[31m [ 60%][0m
tests/test_knn_radius_search.py::TestKNNEngineRadiusSearch::test_radius_search_empty_results [32mPASSED[0m[31m [ 60%][0m
tests/test_knn_radius_search.py::TestKNNEngineRadiusSearch::test_radius_search_consistency_with_knn [32mPASSED[0m[31m [ 61%][0m
tests/test_knn_radius_search.py::TestRadiusSearchConvenienceFunction::test_radius_search_function [32mPASSED[0m[31m [ 61%][0m
tests/test_knn_radius_search.py::TestRadiusSearchConvenienceFunction::test_radius_search_with_backend_specification [32mPASSED[0m[31m [ 61%][0m
tests/test_knn_radius_search.py::TestRadiusSearchConvenienceFunction::test_radius_search_with_max_neighbors [32mPASSED[0m[31m [ 61%][0m
tests/test_knn_radius_search.py::TestRadiusSearchIntegration::test_normals_with_radius_search [32mPASSED[0m[31m [ 61%][0m
tests/test_knn_radius_search.py::TestRadiusSearchIntegration::test_normals_radius_vs_knn [32mPASSED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_initialization_with_gpu [31mFAILED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_initialization_without_gpu [32mPASSED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_small_cloud_with_gpu [31mFAILED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_small_cloud_without_gpu [32mPASSED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_small_cloud_prefer_cpu [32mPASSED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_medium_cloud_with_gpu [31mFAILED[0m[31m [ 61%][0m
tests/test_mode_selector.py::TestModeSelector::test_medium_cloud_without_gpu [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_large_cloud_with_gpu [31mFAILED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_large_cloud_without_gpu [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_very_large_cloud_with_gpu [31mFAILED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_very_large_cloud_without_gpu [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_force_cpu [32mPASSED[0m[31m     [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_force_gpu [31mFAILED[0m[31m     [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_force_gpu_without_gpu_raises [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_force_cpu_insufficient_memory_raises [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_user_mode_override [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_boundary_mode [32mPASSED[0m[31m [ 62%][0m
tests/test_mode_selector.py::TestModeSelector::test_boundary_mode_small_cloud [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_estimate_memory_cpu [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_estimate_memory_gpu [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_estimate_memory_gpu_chunked [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_get_recommendations [31mFAILED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_recommendations_alternative_modes [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_zero_points [32mPASSED[0m[31m   [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_very_small_cloud [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_threshold_boundary_values [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelector::test_get_mode_selector_factory [32mPASSED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelectionIntegration::test_workstation_small_dataset [31mFAILED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelectionIntegration::test_workstation_large_dataset [31mFAILED[0m[31m [ 63%][0m
tests/test_mode_selector.py::TestModeSelectionIntegration::test_laptop_small_dataset [32mPASSED[0m[31m [ 64%][0m
tests/test_mode_selector.py::TestModeSelectionIntegration::test_laptop_medium_dataset [32mPASSED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestFeatureComputerInit::test_init_basic_config [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestFeatureComputerInit::test_init_with_feature_manager [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestFeatureComputerInit::test_init_gpu_config [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestGeometricFeatureComputation::test_compute_geometric_features_cpu [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestGeometricFeatureComputation::test_compute_geometric_features_gpu [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestFeatureComputation::test_compute_features_basic [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestFeatureComputation::test_compute_features_with_enriched [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestRGBFeatures::test_add_rgb_from_input_laz [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestRGBFeatures::test_add_rgb_from_fetcher [33mSKIPPED[0min other tests)[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestRGBFeatures::test_add_rgb_unavailable [31mFAILED[0m[31m [ 64%][0m
tests/test_modules/test_feature_computer.py::TestNIRFeatures::test_add_nir_from_input_laz [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestNIRFeatures::test_add_nir_unavailable [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestNDVIFeatures::test_add_ndvi_from_input_laz [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestNDVIFeatures::test_compute_ndvi_from_rgb_nir [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestArchitecturalStyle::test_add_architectural_style_single [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestArchitecturalStyle::test_add_architectural_style_multi_label [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestFeatureFlowLogging::test_feature_flow_debug_logging [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_feature_computer.py::TestFeatureFlowLogging::test_empty_geo_features_warning [31mFAILED[0m[31m [ 65%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderInit::test_init_basic_config [32mPASSED[0m[31m [ 65%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderInit::test_init_with_bbox [32mPASSED[0m[31m [ 65%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderInit::test_init_with_preprocessing [32mPASSED[0m[31m [ 65%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_rgb_success [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_rgb_missing [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_nir_success [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_nir_near_infrared_attribute [33mSKIPPED[0mract_nir_success)[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_ndvi_success [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderExtractMethods::test_extract_enriched_features [33mSKIPPED[0mge)[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderStandardLoading::test_load_tile_standard_success [33mSKIPPED[0mon tests)[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileLoaderStandardLoading::test_load_tile_corruption_recovery [33mSKIPPED[0mon tests)[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestBBoxFiltering::test_apply_bbox_filter_no_bbox [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestBBoxFiltering::test_apply_bbox_filter_with_bbox [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestPreprocessing::test_preprocessing_sor_ror [31mFAILED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestPreprocessing::test_preprocessing_disabled [32mPASSED[0m[31m [ 66%][0m
tests/test_modules/test_tile_loader.py::TestTileValidation::test_validate_tile_sufficient_points [32mPASSED[0m[31m [ 67%][0m
tests/test_modules/test_tile_loader.py::TestTileValidation::test_validate_tile_insufficient_points [32mPASSED[0m[31m [ 67%][0m
tests/test_modules/test_tile_loader.py::TestTileValidation::test_validate_tile_none_data [32mPASSED[0m[31m [ 67%][0m
tests/test_modules/test_tile_loader.py::TestChunkedLoading::test_load_tile_chunked_trigger [33mSKIPPED[0mntegration tests)[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_init_default [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_init_custom_config [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_rotation [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_scaling [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_translation [31mFAILED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_jitter [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_dropout [32mPASSED[0m[31m [ 67%][0m
tests/test_multi_arch_dataset.py::TestPatchAugmentation::test_feature_noise [32mPASSED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_init_basic [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_init_with_preset [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_init_invalid_architecture [32mPASSED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_init_invalid_preset [32mPASSED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_data_split [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_getitem [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_len [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_architecture_pointnet [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_architecture_transformer [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_architecture_octree [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_architecture_sparse_conv [31mFAILED[0m[31m [ 68%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_augmentation [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_cache_in_memory [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_get_dataloader [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_get_stats [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIGNLiDARMultiArchDataset::test_presets [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIntegration::test_full_pipeline [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_arch_dataset.py::TestIntegration::test_multiple_architectures [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_no_connection_when_gpu_not_requested [32mPASSED[0m[31m [ 69%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_skip_when_multi_scale_disabled [32mPASSED[0m[31m [ 69%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_successful_gpu_connection [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_gpu_not_available_warning [31mFAILED[0m[31m [ 69%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_cupy_not_installed_fallback [31mFAILED[0m[31m [ 70%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_gpu_validation_failure_fallback [31mFAILED[0m[31m [ 70%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_actionable_error_messages [32mPASSED[0m[31m [ 70%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_gpu_memory_info_logging [31mFAILED[0m[31m [ 70%][0m
tests/test_multi_scale_gpu_connection.py::TestMultiScaleGPUConnection::test_force_gpu_config [31mFAILED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestNumbaAvailability::test_is_numba_available [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestNumbaAvailability::test_get_numba_info [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_numpy_implementation_basic [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_numba_implementation_basic [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_numba_numpy_consistency [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_automatic_selection_numpy_forced [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_automatic_selection_numba_forced [32mPASSED[0m[31m [ 70%][0m
tests/test_numba_acceleration.py::TestCovarianceMatrices::test_automatic_selection_auto [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestNormalExtraction::test_numpy_normal_extraction [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestNormalExtraction::test_numba_normal_extraction [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestNormalExtraction::test_numba_numpy_normal_consistency [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestNormalExtraction::test_automatic_normal_selection [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestLocalPointDensity::test_numpy_density_basic [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestLocalPointDensity::test_numba_density_basic [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestLocalPointDensity::test_numba_numpy_density_consistency [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestLocalPointDensity::test_automatic_density_selection [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestEdgeCases::test_empty_points [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestEdgeCases::test_single_point [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestEdgeCases::test_degenerate_covariance [32mPASSED[0m[31m [ 71%][0m
tests/test_numba_acceleration.py::TestEdgeCases::test_numba_unavailable_warning [33mSKIPPED[0m[31m [ 72%][0m
tests/test_numba_acceleration.py::TestPerformance::test_covariance_performance_medium [32mPASSED[0m[31m [ 72%][0m
tests/test_numba_acceleration.py::TestPerformance::test_normals_performance_medium [32mPASSED[0m[31m [ 72%][0m
tests/test_numba_acceleration.py::TestIntegration::test_full_normal_computation_workflow [32mPASSED[0m[31m [ 72%][0m
tests/test_numba_acceleration.py::TestIntegration::test_density_computation_workflow [32mPASSED[0m[31m [ 72%][0m
tests/test_parcel_classifier.py::test_config_defaults [32mPASSED[0m[31m             [ 72%][0m
tests/test_parcel_classifier.py::test_config_custom [32mPASSED[0m[31m               [ 72%][0m
tests/test_parcel_classifier.py::test_parcel_statistics_creation [32mPASSED[0m[31m  [ 72%][0m
tests/test_parcel_classifier.py::test_classifier_init_default [32mPASSED[0m[31m     [ 72%][0m
tests/test_parcel_classifier.py::test_classifier_init_custom_config [32mPASSED[0m[31m [ 72%][0m
tests/test_parcel_classifier.py::test_classifier_requires_spatial_libs [31mFAILED[0m[31m [ 72%][0m
tests/test_parcel_classifier.py::test_compute_parcel_features_basic [32mPASSED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_compute_parcel_features_missing_features [32mPASSED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_classify_forest_parcel [32mPASSED[0m[31m      [ 73%][0m
tests/test_parcel_classifier.py::test_classify_agriculture_parcel [32mPASSED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_classify_building_parcel [32mPASSED[0m[31m    [ 73%][0m
tests/test_parcel_classifier.py::test_classify_water_parcel [32mPASSED[0m[31m       [ 73%][0m
tests/test_parcel_classifier.py::test_classify_mixed_parcel_low_confidence [32mPASSED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_refine_forest_parcel_points [31mFAILED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_refine_building_parcel_points [31mFAILED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_match_bd_foret [32mPASSED[0m[31m              [ 73%][0m
tests/test_parcel_classifier.py::test_match_rpg [32mPASSED[0m[31m                   [ 73%][0m
tests/test_parcel_classifier.py::test_classify_by_parcels_integration [31mFAILED[0m[31m [ 73%][0m
tests/test_parcel_classifier.py::test_export_parcel_statistics [32mPASSED[0m[31m    [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_no_artifacts [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_with_nan [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_with_inf [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_boundary_artifact [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_empty_input [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_all_nan [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_validate_planarity_clean [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_validate_planarity_with_nan_inf [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_validate_planarity_out_of_range [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_validate_planarity_outlier_clipping [32mPASSED[0m[31m [ 74%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_k_neighbors_parameter [31mFAILED[0m[31m [ 75%][0m
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_threshold_sensitivity [31mFAILED[0m[31m [ 75%][0m
tests/test_planarity_filtering.py::TestPlanarityFilteringIntegration::test_realistic_building_facade [32mPASSED[0m[31m [ 75%][0m
tests/test_planarity_filtering.py::TestPlanarityFilteringIntegration::test_realistic_ground_surface [32mPASSED[0m[31m [ 75%][0m
tests/test_plane_features.py::test_plane_feature_extractor_basic [32mPASSED[0m[31m  [ 75%][0m
tests/test_plane_features.py::test_plane_detection_statistics [32mPASSED[0m[31m     [ 75%][0m
tests/test_plane_features.py::test_plane_feature_values [32mPASSED[0m[31m           [ 75%][0m
tests/test_plane_features.py::test_no_planes_detected [32mPASSED[0m[31m             [ 75%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_single_horizontal_plane_segmentation [32mPASSED[0m[31m [ 75%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_two_separated_horizontal_planes [32mPASSED[0m[31m [ 75%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_normal_similarity_filtering [32mPASSED[0m[31m [ 75%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_min_points_threshold [32mPASSED[0m[31m [ 75%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_fallback_to_single_segment [32mPASSED[0m[31m [ 76%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_vertical_plane_segmentation [32mPASSED[0m[31m [ 76%][0m
tests/test_plane_region_growing.py::TestPlaneRegionGrowing::test_create_plane_segment_properties [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_simple_rectangle [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_with_adapted_facades [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_mixed_adapted_original [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_rotated_facades [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_insufficient_facades [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_scaled_facades [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_with_rotation_and_scaling [32mPASSED[0m[31m [ 76%][0m
tests/test_polygon_reconstruction.py::TestPolygonReconstruction::test_reconstruct_area_validation [32mPASSED[0m[31m [ 76%][0m
tests/test_reclassification_improvements.py::TestASPRSColors::test_get_class_color_standard_codes [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestASPRSColors::test_get_class_color_extended_codes [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestASPRSColors::test_rgb_scaling_for_laz [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestAdaptiveBuffers::test_adaptive_buffer_small_building [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestAdaptiveBuffers::test_adaptive_buffer_medium_building [31mFAILED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestAdaptiveBuffers::test_adaptive_buffer_large_building [31mFAILED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestAdaptiveBuffers::test_adaptive_buffer_very_large_building [31mFAILED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestNaNHandling::test_nan_verticality_fallback [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestNaNHandling::test_nan_planarity_fallback [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestNaNHandling::test_both_nan_fallback [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestNaNHandling::test_inf_handling [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestFacadeRecovery::test_facade_recovery_near_building [32mPASSED[0m[31m [ 77%][0m
tests/test_reclassification_improvements.py::TestFacadeRecovery::test_facade_recovery_no_candidates [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements.py::TestFacadeRecovery::test_facade_recovery_height_filter [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements.py::TestFacadeRecovery::test_facade_recovery_verticality_filter [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements.py::TestIntegration::test_refiner_with_all_features [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements.py::TestIntegration::test_config_backwards_compatibility [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestBuildingFacadeCapture::test_low_facade_capture [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestBuildingFacadeCapture::test_overhang_detection [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestRoadGroundLevelEnforcement::test_elevated_points_reclassified [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestRoadGroundLevelEnforcement::test_ground_level_roads_preserved [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestVegetationNDVI::test_vegetation_confidence_scoring [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestVegetationNDVI::test_nan_handling_robustness [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_improvements_nov1.py::TestFacadeRecovery::test_recover_missing_low_walls [32mPASSED[0m[31m [ 78%][0m
tests/test_reclassification_priority_fix.py::test_priority_order_is_reversed [32mPASSED[0m[31m [ 79%][0m
tests/test_reclassification_priority_fix.py::test_priority_order_critical_features [32mPASSED[0m[31m [ 79%][0m
tests/test_reclassification_priority_fix.py::test_priority_order_consistency [32mPASSED[0m[31m [ 79%][0m
tests/test_reclassification_priority_fix.py::test_vegetation_overwrites_roads [32mPASSED[0m[31m [ 79%][0m
tests/test_reclassifier_performance.py::test_cpu_vectorized_vs_legacy [31mFAILED[0m[31m [ 79%][0m
tests/test_reclassifier_performance.py::test_gpu_batched_vs_cpu [33mSKIPPED[0m[31m  [ 79%][0m
tests/test_reclassifier_performance.py::test_auto_selection_logic [32mPASSED[0m[31m [ 79%][0m
tests/test_reclassifier_performance.py::test_memory_efficiency [32mPASSED[0m[31m    [ 79%][0m
tests/test_reclassifier_performance.py::test_chunking_behavior [32mPASSED[0m[31m    [ 79%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadNatureMapping::test_road_nature_mapping_exists [32mPASSED[0m[31m [ 79%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadNatureMapping::test_road_nature_mapping_values [32mPASSED[0m[31m [ 79%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadNatureMapping::test_get_classification_for_road_with_nature [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadNatureMapping::test_get_classification_for_road_default [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadNatureMapping::test_get_classification_for_road_standard_mode [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestReclassifierRoadNature::test_get_asprs_code_for_road [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestReclassifierRoadNature::test_get_asprs_code_with_road_properties [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestOptimizedGroundTruthClassifier::test_get_asprs_code_for_road [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestOptimizedGroundTruthClassifier::test_get_asprs_code_with_road_properties [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadClassificationIntegration::test_road_gdf_with_nature_attribute [32mPASSED[0m[31m [ 80%][0m
tests/test_road_classification_from_bd_topo.py::TestRoadClassificationIntegration::test_road_classification_preserves_nature [32mPASSED[0m[31m [ 80%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_initialization [32mPASSED[0m[31m [ 80%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_initialization_custom_params [32mPASSED[0m[31m [ 80%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_classify_flat_roof [31mERROR[0m[31m [ 80%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_classify_gabled_roof [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_empty_input [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_missing_features_error [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_identify_roof_points [31mERROR[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_identify_roof_points_no_labels [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_segment_roof_planes [31mERROR[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_classify_segment_type [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_detect_ridge_lines [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_detect_roof_edges [31mERROR[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_detect_dormers [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_roof_type_classification_logic [32mPASSED[0m[31m [ 81%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_insufficient_points [32mPASSED[0m[31m [ 82%][0m
tests/test_roof_classifier.py::TestRoofTypeClassifier::test_result_statistics [31mERROR[0m[31m [ 82%][0m
tests/test_rules_base.py::TestEnumerations::test_rule_type_enum [32mPASSED[0m[31m   [ 82%][0m
tests/test_rules_base.py::TestEnumerations::test_rule_priority_enum [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestEnumerations::test_execution_strategy_enum [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestEnumerations::test_conflict_resolution_enum [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestRuleStats::test_basic_creation [32mPASSED[0m[31m      [ 82%][0m
tests/test_rules_base.py::TestRuleStats::test_coverage_calculation [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestRuleStats::test_zero_points_coverage [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestRuleStats::test_per_rule_statistics [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestRuleResult::test_basic_creation [32mPASSED[0m[31m     [ 82%][0m
tests/test_rules_base.py::TestRuleResult::test_labels_confidence_length_mismatch [32mPASSED[0m[31m [ 82%][0m
tests/test_rules_base.py::TestRuleResult::test_confidence_clipping [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestRuleResult::test_metadata_field [32mPASSED[0m[31m     [ 83%][0m
tests/test_rules_base.py::TestRuleConfig::test_basic_creation [32mPASSED[0m[31m     [ 83%][0m
tests/test_rules_base.py::TestRuleConfig::test_optional_fields [32mPASSED[0m[31m    [ 83%][0m
tests/test_rules_base.py::TestRuleEngineConfig::test_basic_creation [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestBaseRule::test_cannot_instantiate [32mPASSED[0m[31m   [ 83%][0m
tests/test_rules_base.py::TestBaseRule::test_concrete_implementation [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestRuleEngine::test_cannot_instantiate [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestRuleEngine::test_concrete_implementation [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestCreateEmptyResult::test_basic_creation [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestCreateEmptyResult::test_zero_points [32mPASSED[0m[31m [ 83%][0m
tests/test_rules_base.py::TestMergeRuleResults::test_merge_two_results [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_base.py::TestMergeRuleResults::test_merge_empty_list [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_base.py::TestMergeRuleResults::test_merge_single_result [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_base.py::TestIntegration::test_full_workflow [32mPASSED[0m[31m     [ 84%][0m
tests/test_rules_base.py::TestEdgeCases::test_rule_stats_with_negative_values [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_base.py::TestEdgeCases::test_rule_result_with_empty_arrays [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_base.py::TestEdgeCases::test_rule_config_with_invalid_class [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestConfidenceMethod::test_enum_values [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestConfidenceMethod::test_enum_membership [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestCombinationMethod::test_enum_values [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceBinary::test_binary_default_threshold [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceBinary::test_binary_custom_threshold [32mPASSED[0m[31m [ 84%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceBinary::test_binary_all_below_threshold [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceLinear::test_linear_auto_range [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceLinear::test_linear_custom_range [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceLinear::test_linear_constant_scores [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceSigmoid::test_sigmoid_default_params [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceSigmoid::test_sigmoid_custom_center [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceSigmoid::test_sigmoid_steepness [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceGaussian::test_gaussian_centered [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceGaussian::test_gaussian_symmetry [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceGaussian::test_gaussian_sigma [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceThreshold::test_threshold_hard_regions [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceThreshold::test_threshold_soft_transition [32mPASSED[0m[31m [ 85%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceExponential::test_exponential_decay [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceExponential::test_exponential_growth [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceExponential::test_exponential_rate [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCalculateConfidenceErrors::test_unknown_method_raises [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_weighted_average_uniform [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_weighted_average_custom [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_max_combination [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_min_combination [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_product_combination [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_geometric_mean [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_harmonic_mean [32mPASSED[0m[31m [ 86%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_empty_confidences_raises [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_mismatched_lengths_raises [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestCombineConfidences::test_zero_weights_raises [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestNormalizeConfidence::test_normalize_to_01 [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestNormalizeConfidence::test_normalize_custom_range [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestNormalizeConfidence::test_normalize_constant_values [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestNormalizeConfidence::test_normalize_invalid_range_raises [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestCalibrateConfidence::test_calibration_basic [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestCalibrateConfidence::test_calibration_bin_counts [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestCalibrateConfidence::test_perfect_calibration [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestApplyConfidenceThreshold::test_threshold_basic [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestApplyConfidenceThreshold::test_threshold_all_above [32mPASSED[0m[31m [ 87%][0m
tests/test_rules_confidence.py::TestApplyConfidenceThreshold::test_threshold_all_below [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_confidence.py::TestApplyConfidenceThreshold::test_threshold_preserves_original [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_confidence.py::TestConfidenceIntegration::test_calculate_and_combine_workflow [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_confidence.py::TestConfidenceIntegration::test_all_confidence_methods [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_confidence.py::TestConfidenceIntegration::test_all_combination_methods [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleEnums::test_rule_type_values [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleEnums::test_rule_priority_ordering [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleEnums::test_execution_strategy_values [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleEnums::test_conflict_resolution_values [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleDataClasses::test_rule_stats_creation [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleDataClasses::test_rule_result_creation [32mPASSED[0m[31m [ 88%][0m
tests/test_rules_framework.py::TestRuleDataClasses::test_rule_config_defaults [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_framework.py::TestBaseRule::test_base_rule_cannot_be_instantiated [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_framework.py::TestBaseRule::test_concrete_rule_implementation [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_framework.py::TestHelperFunctions::test_create_empty_result [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_framework.py::TestHelperFunctions::test_merge_rule_results_highest_confidence [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_framework.py::TestRulesIntegration::test_simple_rule_application [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_basic_creation [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_default_strategy [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_negative_level_raises [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_invalid_strategy_raises [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_empty_rules_warning [32mPASSED[0m[31m [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_repr [32mPASSED[0m[31m           [ 89%][0m
tests/test_rules_hierarchy.py::TestRuleLevel::test_valid_strategies [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestHierarchicalRuleEngineInit::test_basic_initialization [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestHierarchicalRuleEngineInit::test_levels_sorted_by_number [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestHierarchicalRuleEngineInit::test_with_config [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestHierarchicalRuleEngineInit::test_single_level [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestFirstMatchStrategy::test_first_match_basic [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestFirstMatchStrategy::test_first_match_stops_after_match [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestAllMatchesStrategy::test_all_matches_combines_votes [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestAllMatchesStrategy::test_all_matches_highest_confidence_wins [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestPriorityStrategy::test_priority_strategy [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestMultiLevelExecution::test_two_level_hierarchy [32mPASSED[0m[31m [ 90%][0m
tests/test_rules_hierarchy.py::TestMultiLevelExecution::test_early_exit_when_all_classified [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestMultiLevelExecution::test_unclassified_points_propagate [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestStatisticsAndMetadata::test_statistics_collection [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestStatisticsAndMetadata::test_coverage_calculation [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestStatisticsAndMetadata::test_metadata_includes_n_levels [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestStatisticsAndMetadata::test_confidence_statistics [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestEdgeCases::test_no_rules_match [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestEdgeCases::test_empty_level [32mPASSED[0m[31m    [ 91%][0m
tests/test_rules_hierarchy.py::TestEdgeCases::test_single_point [32mPASSED[0m[31m   [ 91%][0m
tests/test_rules_hierarchy.py::TestHierarchyIntegration::test_complete_workflow [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_hierarchy.py::TestHierarchyIntegration::test_mixed_strategies [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_validation.py::TestFeatureRequirements::test_basic_creation [32mPASSED[0m[31m [ 91%][0m
tests/test_rules_validation.py::TestFeatureRequirements::test_overlap_handling [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestFeatureRequirements::test_list_to_set_conversion [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_valid_features_pass [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_missing_required_raises [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_nan_values_not_allowed [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_nan_values_allowed [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_infinite_values_raise [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_shape_mismatch_raises [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_n_points_inference [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatures::test_empty_features_raises [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatureShape::test_correct_1d_shape [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatureShape::test_incorrect_1d_shape [32mPASSED[0m[31m [ 92%][0m
tests/test_rules_validation.py::TestValidateFeatureShape::test_2d_shape_validation [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestValidateFeatureShape::test_specific_features_only [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestValidateFeatureShape::test_missing_feature_ignored [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_perfect_quality [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_partial_quality [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_below_threshold_raises [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_infinite_values_affect_quality [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_missing_feature_raises [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckFeatureQuality::test_empty_array [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckAllFeatureQuality::test_all_perfect_quality [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckAllFeatureQuality::test_mixed_quality [32mPASSED[0m[31m [ 93%][0m
tests/test_rules_validation.py::TestCheckAllFeatureQuality::test_any_below_threshold_raises [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidateFeatureRanges::test_values_in_range_pass [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidateFeatureRanges::test_values_below_min_strict [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidateFeatureRanges::test_values_above_max_strict [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidateFeatureRanges::test_non_strict_mode_warns_only [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidateFeatureRanges::test_missing_feature_ignored [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_valid_points_pass [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_not_numpy_array_raises [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_not_2d_raises [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_too_few_points_raises [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_wrong_dimensions_raises [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_nan_values_raise [32mPASSED[0m[31m [ 94%][0m
tests/test_rules_validation.py::TestValidatePointsArray::test_infinite_values_raise [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestGetFeatureStatistics::test_basic_statistics [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestGetFeatureStatistics::test_statistics_with_nan [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestGetFeatureStatistics::test_all_invalid_values [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestGetFeatureStatistics::test_median_computation [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestGetFeatureStatistics::test_empty_features [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestValidationIntegration::test_complete_validation_workflow [32mPASSED[0m[31m [ 95%][0m
tests/test_rules_validation.py::TestValidationIntegration::test_validation_failure_propagation [32mPASSED[0m[31m [ 95%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_basic_containment [32mPASSED[0m[31m [ 95%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_buffer_expansion [32mPASSED[0m[31m [ 95%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_strtree_optimization [32mPASSED[0m[31m [ 95%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_mask_filtering [32mPASSED[0m[31m [ 96%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_empty_polygons [32mPASSED[0m[31m [ 96%][0m
tests/test_spatial_containment.py::TestSpatialContainment::test_no_candidates [32mPASSED[0m[31m [ 96%][0m
tests/test_spectral_rules.py::test_spectral_rules_initialization [31mFAILED[0m[31m  [ 96%][0m
tests/test_spectral_rules.py::test_vegetation_classification [32mPASSED[0m[31m      [ 96%][0m
tests/test_spectral_rules.py::test_water_classification [32mPASSED[0m[31m           [ 96%][0m
tests/test_spectral_rules.py::test_concrete_building_classification [31mFAILED[0m[31m [ 96%][0m
tests/test_spectral_rules.py::test_asphalt_classification [31mFAILED[0m[31m         [ 96%][0m
tests/test_spectral_rules.py::test_get_spectral_features [32mPASSED[0m[31m          [ 96%][0m
tests/test_spectral_rules.py::test_classify_with_confidence [31mFAILED[0m[31m       [ 96%][0m
tests/test_spectral_rules.py::test_apply_to_unclassified_only [32mPASSED[0m[31m     [ 96%][0m
tests/test_spectral_rules.py::test_statistics_tracking [31mFAILED[0m[31m            [ 96%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_init [32mPASSED[0m[31m         [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_load_single_tile [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_load_tile_with_neighbors [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_detect_boundary_points [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_spatial_index [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_compute_bounds [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_buffer_zone_extraction [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_caching [32mPASSED[0m[31m      [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_no_caching [32mPASSED[0m[31m   [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_invalid_tile [32mPASSED[0m[31m [ 97%][0m
tests/test_tile_stitching.py::TestTileStitcher::test_empty_neighbor_list [32mPASSED[0m[31m [ 97%][0m
tests/test_verification_vectorization.py::TestVerificationVectorization::test_vectorized_counting_correctness [32mPASSED[0m[31m [ 98%][0m
tests/test_verification_vectorization.py::TestVerificationVectorization::test_edge_cases [32mPASSED[0m[31m [ 98%][0m
tests/test_verification_vectorization.py::TestVerificationVectorization::test_performance_improvement [32mPASSED[0m[31m [ 98%][0m
tests/test_verification_vectorization.py::TestVerificationVectorization::test_matrix_operations_accuracy [32mPASSED[0m[31m [ 98%][0m
tests/test_verification_vectorization.py::TestVerificationVectorization::test_integration_with_feature_verifier [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestBatchFetching::test_batch_fetch_calls_parallel [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestBatchFetching::test_batch_fetch_documentation [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestBatchFetching::test_no_true_batch_support [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_success [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_empty_results [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_partial_failure [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_fallback_to_sequential [32mPASSED[0m[31m [ 98%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_respects_max_workers [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestParallelFetching::test_parallel_fetch_performance_logging [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestSequentialFetching::test_sequential_fetch_success [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestSequentialFetching::test_sequential_fetch_with_errors [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestPerformanceComparison::test_parallel_faster_than_sequential [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestPerformanceComparison::test_minimal_overhead_for_single_layer [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestConfiguration::test_default_parallel_enabled [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestConfiguration::test_configurable_max_workers [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestConfiguration::test_disable_parallel_fetching [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestErrorHandling::test_all_layers_fail_returns_empty [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestErrorHandling::test_none_return_handled [32mPASSED[0m[31m [ 99%][0m
tests/test_wfs_batch_optimization.py::TestErrorHandling::test_exception_logging [32mPASSED[0m[31m [100%][0m/home/simon/miniconda3/lib/python3.13/site-packages/coverage/report_core.py:107: CoverageWarning: Couldn't parse Python file '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/auto_configuration.py' (couldnt-parse); see https://coverage.readthedocs.io/en/7.11.0/messages.html#warning-couldnt-parse
  coverage._warn(msg, slug="couldnt-parse")
/home/simon/miniconda3/lib/python3.13/site-packages/coverage/report_core.py:107: CoverageWarning: Couldn't parse Python file '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/classification/variable_object_filter.py' (couldnt-parse); see https://coverage.readthedocs.io/en/7.11.0/messages.html#warning-couldnt-parse
  coverage._warn(msg, slug="couldnt-parse")


==================================== ERRORS ====================================
[31m[1m_______ ERROR at setup of TestRoofTypeClassifier.test_classify_flat_roof _______[0m
[1m[31mtests/test_roof_classifier.py[0m:46: in flat_roof_data
    [0mnormals += np.random.normal([94m0[39;49;00m, [94m0.05[39;49;00m, ([94m500[39;49;00m, [94m3[39;49;00m))  [90m# Small variation[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'[0m
[31m[1m______ ERROR at setup of TestRoofTypeClassifier.test_identify_roof_points ______[0m
[1m[31mtests/test_roof_classifier.py[0m:46: in flat_roof_data
    [0mnormals += np.random.normal([94m0[39;49;00m, [94m0.05[39;49;00m, ([94m500[39;49;00m, [94m3[39;49;00m))  [90m# Small variation[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'[0m
[31m[1m______ ERROR at setup of TestRoofTypeClassifier.test_segment_roof_planes _______[0m
[1m[31mtests/test_roof_classifier.py[0m:46: in flat_roof_data
    [0mnormals += np.random.normal([94m0[39;49;00m, [94m0.05[39;49;00m, ([94m500[39;49;00m, [94m3[39;49;00m))  [90m# Small variation[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'[0m
[31m[1m_______ ERROR at setup of TestRoofTypeClassifier.test_detect_roof_edges ________[0m
[1m[31mtests/test_roof_classifier.py[0m:46: in flat_roof_data
    [0mnormals += np.random.normal([94m0[39;49;00m, [94m0.05[39;49;00m, ([94m500[39;49;00m, [94m3[39;49;00m))  [90m# Small variation[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'[0m
[31m[1m_______ ERROR at setup of TestRoofTypeClassifier.test_result_statistics ________[0m
[1m[31mtests/test_roof_classifier.py[0m:46: in flat_roof_data
    [0mnormals += np.random.normal([94m0[39;49;00m, [94m0.05[39;49;00m, ([94m500[39;49;00m, [94m3[39;49;00m))  [90m# Small variation[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'[0m
=================================== FAILURES ===================================
[31m[1m________________ TestWaterDetection.test_water_detection_basic _________________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:152: in test_water_detection_basic
    [0m[94massert[39;49;00m n_water > [94m0[39;49;00m, [33m"[39;49;00m[33mWater points should be detected[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Water points should be detected[0m
[1m[31mE   assert np.int64(0) > 0[0m
[31m[1m____________ TestWaterDetection.test_water_detection_ndwi_required _____________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:169: in test_water_detection_ndwi_required
    [0m[94massert[39;49;00m n_water > [94m0[39;49;00m, [33m"[39;49;00m[33mWater should be detected without NDWI[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Water should be detected without NDWI[0m
[1m[31mE   assert np.int64(0) > 0[0m
[31m[1m______________ TestWaterDetection.test_water_detection_thresholds ______________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:193: in test_water_detection_thresholds
    [0m[94massert[39;49;00m n_water > [94m0[39;49;00m, [33m"[39;49;00m[33mWater should be detected at threshold values[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Water should be detected at threshold values[0m
[1m[31mE   assert np.int64(0) > 0[0m
[31m[1m_____________ TestBridgeDetection.test_bridge_detection_dimensions _____________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:244: in test_bridge_detection_dimensions
    [0m[94massert[39;49;00m n_bridge > [94m0[39;49;00m, [33m"[39;49;00m[33mBridge with valid dimensions should be detected[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Bridge with valid dimensions should be detected[0m
[1m[31mE   assert np.int64(0) > 0[0m
[31m[1m_________ TestOverheadStructureDetection.test_overhead_structure_basic _________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:311: in test_overhead_structure_basic
    [0mresult = engine.classify_overhead_structures(points, features, classification)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:644: in classify_overhead_structures
    [0mASPRSClass.WIRE_CONDUCTOR_OVERHEAD[90m[39;49;00m
[1m[31mE   AttributeError: type object 'ASPRSClass' has no attribute 'WIRE_CONDUCTOR_OVERHEAD'[0m
[31m[1m_____ TestOverheadStructureDetection.test_overhead_structure_length_filter _____[0m
[1m[31mtests/test_asprs_class_rules.py[0m:343: in test_overhead_structure_length_filter
    [0mresult = engine.classify_overhead_structures([90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:647: in classify_overhead_structures
    [0mn_overhead = (classification == [96mint[39;49;00m(ASPRSClass.WIRE_CONDUCTOR_OVERHEAD)).sum()[90m[39;49;00m
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: type object 'ASPRSClass' has no attribute 'WIRE_CONDUCTOR_OVERHEAD'[0m
[31m[1m______________ TestNoiseClassification.test_noise_detection_basic ______________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:360: in test_noise_detection_basic
    [0mresult = engine.classify_noise(points, features, classification)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:709: in classify_noise
    [0mclassification[noise_mask] = [96mint[39;49;00m(ASPRSClass.LOW_POINT_NOISE)[90m[39;49;00m
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: type object 'ASPRSClass' has no attribute 'LOW_POINT_NOISE'[0m
[31m[1m____________ TestNoiseClassification.test_noise_isolation_threshold ____________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:384: in test_noise_isolation_threshold
    [0mresult = engine.classify_noise(points, features, classification)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:709: in classify_noise
    [0mclassification[noise_mask] = [96mint[39;49;00m(ASPRSClass.LOW_POINT_NOISE)[90m[39;49;00m
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: type object 'ASPRSClass' has no attribute 'LOW_POINT_NOISE'[0m
[31m[1m_____________________ TestIntegration.test_apply_all_rules _____________________[0m
[1m[31mtests/test_asprs_class_rules.py[0m:437: in test_apply_all_rules
    [0mresult = engine.apply_all_rules([90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:264: in apply_all_rules
    [0mclassification = [96mself[39;49;00m.classify_water_bodies([90m[39;49;00m
[1m[31mign_lidar/core/classification/asprs_class_rules.py[0m:328: in classify_water_bodies
    [0m(planarity >= cfg.planarity_min)[90m[39;49;00m
[1m[31mE   ValueError: operands could not be broadcast together with shapes (2100,) (2200,)[0m
[31m[1m_______________ test_classifier_initialization_without_enhanced ________________[0m
[1m[31mtests/test_building_integration.py[0m:201: in test_classifier_initialization_without_enhanced
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m_____________ test_classifier_initialization_with_enhanced_default _____________[0m
[1m[31mtests/test_building_integration.py[0m:211: in test_classifier_initialization_with_enhanced_default
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m_____________ test_classifier_initialization_with_enhanced_custom ______________[0m
[1m[31mtests/test_building_integration.py[0m:229: in test_classifier_initialization_with_enhanced_custom
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m________________ test_classify_single_building_without_enhanced ________________[0m
[1m[31mtests/test_building_integration.py[0m:245: in test_classify_single_building_without_enhanced
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m_________________ test_classify_single_building_with_enhanced __________________[0m
[1m[31mtests/test_building_integration.py[0m:289: in test_classify_single_building_with_enhanced
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m________________________ test_classify_buildings_batch _________________________[0m
[1m[31mtests/test_building_integration.py[0m:341: in test_classify_buildings_batch
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m____________________ test_classifier_with_invalid_features _____________________[0m
[1m[31mtests/test_building_integration.py[0m:374: in test_classifier_with_invalid_features
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m_____________________ test_classifier_with_empty_building ______________________[0m
[1m[31mtests/test_building_integration.py[0m:401: in test_classifier_with_empty_building
    [0mclassifier = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m__________________________ test_performance_overhead ___________________________[0m
[1m[31mtests/test_building_integration.py[0m:448: in test_performance_overhead
    [0mclassifier_basic = BuildingFacadeClassifier([90m[39;49;00m
[1m[31mE   TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?[0m
[31m[1m_______ TestThresholdConsistency.test_road_height_threshold_consistency ________[0m
[1m[31mtests/test_classification_thresholds.py[0m:37: in test_road_height_threshold_consistency
    [0m[94massert[39;49;00m ([90m[39;49;00m
[1m[31mE   AssertionError: GroundTruthRefinementConfig.ROAD_HEIGHT_MAX should be 0.3, got 0.2[0m
[1m[31mE   assert 0.2 == 0.3[0m
[1m[31mE    +  where 0.2 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f41f8c0>.ROAD_HEIGHT_MAX[0m
[31m[1m__________ TestThresholdConsistency.test_ndvi_thresholds_consistency ___________[0m
[1m[31mtests/test_classification_thresholds.py[0m:91: in test_ndvi_thresholds_consistency
    [0m[94massert[39;49;00m gt_config.ROAD_NDVI_MAX == [94m0.15[39;49;00m[90m[39;49;00m
[1m[31mE   assert 0.12 == 0.15[0m
[1m[31mE    +  where 0.12 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x7837307a2490>.ROAD_NDVI_MAX[0m
[31m[1m________ TestRoadVegetationSeparation.test_road_surface_classification _________[0m
[1m[31mtests/test_classification_thresholds.py[0m:175: in test_road_surface_classification
    [0m[94massert[39;49;00m refined[[94m1[39;49;00m] == ASPRS_ROAD, [33m"[39;49;00m[33mPoint at 0.3m should be road[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Point at 0.3m should be road[0m
[1m[31mE   assert np.uint8(1) == 11[0m
[31m[1m___________ TestRoadVegetationSeparation.test_edge_case_at_threshold ___________[0m
[1m[31mtests/test_classification_thresholds.py[0m:256: in test_edge_case_at_threshold
    [0m[94massert[39;49;00m ([90m[39;49;00m
[1m[31mE   AssertionError: Point at exactly 0.5m with road features should be road[0m
[1m[31mE   assert np.uint8(1) == 11[0m
[31m[1m________ TestGeometricRulesThresholds.test_road_vegetation_overlap_fix _________[0m
[1m[31mtests/test_classification_thresholds.py[0m:296: in test_road_vegetation_overlap_fix
    [0mn_fixed = rules_engine.fix_road_vegetation_overlap([90m[39;49;00m
[1m[31mE   TypeError: GeometricRulesEngine.fix_road_vegetation_overlap() missing 1 required positional argument: 'modifiable_mask'[0m
[31m[1m________________ TestClassifierRules.test_road_rule_thresholds _________________[0m
[1m[31mtests/test_classification_thresholds.py[0m:324: in test_road_rule_thresholds
    [0m[94massert[39;49;00m height_max == [94m0.5[39;49;00m, [33mf[39;49;00m[33m"[39;49;00m[33mRoad max height should be 0.5, got [39;49;00m[33m{[39;49;00mheight_max[33m}[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Road max height should be 0.5, got 0.3[0m
[1m[31mE   assert 0.3 == 0.5[0m
[31m[1m________________ TestIntegration.test_full_pipeline_consistency ________________[0m
[1m[31mtests/test_classification_thresholds.py[0m:353: in test_full_pipeline_consistency
    [0m[94massert[39;49;00m refiner.config.ROAD_HEIGHT_MAX == [94m0.3[39;49;00m[90m[39;49;00m
[1m[31mE   assert 0.2 == 0.3[0m
[1m[31mE    +  where 0.2 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f4bb460>.ROAD_HEIGHT_MAX[0m
[1m[31mE    +    where <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f4bb460> = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefiner object at 0x78370f4aa2c0>.config[0m
[31m[1m_________________ TestConfigMigration.test_migrate_v31_to_v32 __________________[0m
[1m[31mtests/test_config.py[0m:148: in test_migrate_v31_to_v32
    [0mconfig = Config.from_dict(old_config)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/config/config.py[0m:369: in from_dict
    [0mcfg = OmegaConf.structured([96mcls[39;49;00m)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:125: in structured
    [0m[94mreturn[39;49;00m OmegaConf.create(obj, parent, flags)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:178: in create
    [0m[94mreturn[39;49;00m OmegaConf._create_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:900: in _create_impl
    [0mformat_and_raise(node=[94mNone[39;49;00m, key=[94mNone[39;49;00m, value=[94mNone[39;49;00m, msg=[96mstr[39;49;00m(e), cause=e)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:819: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:861: in _create_impl
    [0m[94mreturn[39;49;00m DictConfig([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:111: in __init__
    [0mformat_and_raise(node=[94mNone[39;49;00m, key=key, value=[94mNone[39;49;00m, cause=ex, msg=[96mstr[39;49;00m(ex))[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:819: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:94: in __init__
    [0m[96mself[39;49;00m._set_value(content, flags=flags)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:647: in _set_value
    [0m[94mraise[39;49;00m e[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:644: in _set_value
    [0m[96mself[39;49;00m._set_value_impl(value, flags)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:674: in _set_value_impl
    [0mdata = get_structured_config_data(value, allow_objects=ao)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:495: in get_structured_config_data
    [0m[94mreturn[39;49;00m get_dataclass_data(obj, allow_objects=allow_objects)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:421: in get_dataclass_data
    [0mformat_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:899: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:413: in get_dataclass_data
    [0md[name] = _maybe_wrap([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:1105: in _maybe_wrap
    [0m[94mreturn[39;49;00m _node_wrap([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:1087: in _node_wrap
    [0m[94mraise[39;49;00m ValidationError([33mf[39;49;00m[33m"[39;49;00m[33mUnexpected type annotation: [39;49;00m[33m{[39;49;00mtype_str(ref_type)[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ValidationError: Unexpected type annotation: Literal[pointnet++, hybrid, octree, transformer, sparse_conv, multi][0m
[1m[31mE       full_key: architecture[0m
[1m[31mE       object_type=Config[0m
[31m[1m____________ TestConfigMigration.test_migrate_feature_mode_mapping _____________[0m
[1m[31mtests/test_config.py[0m:170: in test_migrate_feature_mode_mapping
    [0mconfig = Config.from_dict(old_cfg)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/config/config.py[0m:369: in from_dict
    [0mcfg = OmegaConf.structured([96mcls[39;49;00m)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:125: in structured
    [0m[94mreturn[39;49;00m OmegaConf.create(obj, parent, flags)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:178: in create
    [0m[94mreturn[39;49;00m OmegaConf._create_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:900: in _create_impl
    [0mformat_and_raise(node=[94mNone[39;49;00m, key=[94mNone[39;49;00m, value=[94mNone[39;49;00m, msg=[96mstr[39;49;00m(e), cause=e)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:819: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:861: in _create_impl
    [0m[94mreturn[39;49;00m DictConfig([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:111: in __init__
    [0mformat_and_raise(node=[94mNone[39;49;00m, key=key, value=[94mNone[39;49;00m, cause=ex, msg=[96mstr[39;49;00m(ex))[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:819: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:94: in __init__
    [0m[96mself[39;49;00m._set_value(content, flags=flags)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:647: in _set_value
    [0m[94mraise[39;49;00m e[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:644: in _set_value
    [0m[96mself[39;49;00m._set_value_impl(value, flags)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:674: in _set_value_impl
    [0mdata = get_structured_config_data(value, allow_objects=ao)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:495: in get_structured_config_data
    [0m[94mreturn[39;49;00m get_dataclass_data(obj, allow_objects=allow_objects)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:421: in get_dataclass_data
    [0mformat_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:899: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:413: in get_dataclass_data
    [0md[name] = _maybe_wrap([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:1105: in _maybe_wrap
    [0m[94mreturn[39;49;00m _node_wrap([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/omegaconf.py[0m:1087: in _node_wrap
    [0m[94mraise[39;49;00m ValidationError([33mf[39;49;00m[33m"[39;49;00m[33mUnexpected type annotation: [39;49;00m[33m{[39;49;00mtype_str(ref_type)[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ValidationError: Unexpected type annotation: Literal[pointnet++, hybrid, octree, transformer, sparse_conv, multi][0m
[1m[31mE       full_key: architecture[0m
[1m[31mE       object_type=Config[0m
[31m[1m________________ TestGPUDetection.test_gpu_detection_with_cupy _________________[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.core.gpu' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/gpu.py'> does not have the attribute 'cp'[0m
[31m[1m_________________________ test_eigenvalue_integration __________________________[0m
[1m[31mtests/test_eigenvalue_integration.py[0m:100: in test_eigenvalue_integration
    [0mnormals = processor.compute_normals(points, k=k)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GPUProcessor' object has no attribute 'compute_normals'[0m
----------------------------- Captured stdout call -----------------------------
======================================================================
Phase 2A.6: GPU Bridge Eigenvalue Integration Test
======================================================================

Test data: 10,000 points
Shape: (10000, 3)
Memory: 0.11 MB

----------------------------------------------------------------------
Initializing GPUProcessor...
----------------------------------------------------------------------
GPU available: False
cuML available: False
Chunk threshold: inf points

----------------------------------------------------------------------
Test 1: Computing k-NN neighbors
----------------------------------------------------------------------
Neighbors computed: (10000, 10)
Time: 0.041s

----------------------------------------------------------------------
Test 2: Computing eigenvalues
----------------------------------------------------------------------
Eigenvalues computed: (10000, 3)
Sample eigenvalues (first point): [0.00646318 0.00517008 0.0026692 ]
Time: 0.011s

----------------------------------------------------------------------
Test 3: Computing eigenvalue-based features
----------------------------------------------------------------------
Features computed: ['linearity', 'planarity', 'sphericity', 'anisotropy', 'eigenentropy', 'omnivariance', 'sum_eigenvalues', 'eigenvalue_1', 'eigenvalue_2', 'eigenvalue_3', 'change_of_curvature', 'change_curvature', 'verticality', 'surface_variation']
Number of features: 14
  - linearity: shape=(10000,), range=[0.0020, 0.9058]
  - planarity: shape=(10000,), range=[0.0007, 0.8554]
  - sphericity: shape=(10000,), range=[0.0177, 0.8748]
  - anisotropy: shape=(10000,), range=[0.1252, 0.9823]
  - eigenentropy: shape=(10000,), range=[0.3985, 1.0971]
  - omnivariance: shape=(10000,), range=[0.0009, 0.2693]
  - sum_eigenvalues: shape=(10000,), range=[0.0042, 0.8591]
  - eigenvalue_1: shape=(10000,), range=[0.0024, 0.5538]
  - eigenvalue_2: shape=(10000,), range=[0.0010, 0.3259]
  - eigenvalue_3: shape=(10000,), range=[0.0002, 0.1669]
  - change_of_curvature: shape=(10000,), range=[0.0121, 0.3134]
  - change_curvature: shape=(10000,), range=[0.0121, 0.3134]
  - verticality: shape=(10000,), range=[0.1252, 0.9823]
  - surface_variation: shape=(10000,), range=[0.0121, 0.3134]
Time: 0.010s

----------------------------------------------------------------------
Test 4: Computing density features
----------------------------------------------------------------------
Density features: ['point_density', 'mean_distance', 'std_distance', 'local_density_ratio', 'density']
Number of features: 5
  - point_density: shape=(10000,), range=[0.3410, 2575.4521]
  - mean_distance: shape=(10000,), range=[0.0718, 1.7335]
  - std_distance: shape=(10000,), range=[0.0065, 0.2814]
  - local_density_ratio: shape=(10000,), range=[0.0168, 127.1050]
  - density: shape=(10000,), range=[0.3410, 2575.4521]
Time: 0.026s

----------------------------------------------------------------------
Test 5: Computing architectural features
----------------------------------------------------------------------
[31m[1m______________________ test_facade_processor_uses_gpu_knn ______________________[0m
[1m[31mtests/test_facade_optimization.py[0m:137: in test_facade_processor_uses_gpu_knn
    [0mfacade = FacadeSegment([90m[39;49;00m
[1m[31mE   TypeError: FacadeSegment.__init__() got an unexpected keyword argument 'initial_buffer'[0m
[31m[1m_______________________ test_parallel_facade_processing ________________________[0m
[1m[31mtests/test_facade_optimization.py[0m:228: in test_parallel_facade_processing
    [0mlabels_parallel, stats_parallel = classifier_parallel.classify_building([90m[39;49;00m
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?[0m
[31m[1m_________________ test_parallel_processing_with_single_facade __________________[0m
[1m[31mtests/test_facade_optimization.py[0m:293: in test_parallel_processing_with_single_facade
    [0mlabels_result, stats = classifier.classify_building([90m[39;49;00m
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?[0m
[31m[1m__________________________ test_vectorized_projection __________________________[0m
[1m[31mtests/test_facade_optimization.py[0m:328: in test_vectorized_projection
    [0mfacade = FacadeSegment([90m[39;49;00m
[1m[31mE   TypeError: FacadeSegment.__init__() got an unexpected keyword argument 'initial_buffer'[0m
[31m[1m_____________________ test_full_facade_pipeline_optimized ______________________[0m
[1m[31mtests/test_facade_optimization.py[0m:424: in test_full_facade_pipeline_optimized
    [0mlabels_result, stats = classifier.classify_building([90m[39;49;00m
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?[0m
[31m[1m______________________ test_performance_target_50k_points ______________________[0m
[1m[31mtests/test_facade_optimization.py[0m:490: in test_performance_target_50k_points
    [0mlabels_result, stats = classifier.classify_building([90m[39;49;00m
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?[0m
[31m[1m_______________ TestFeatureComputer.test_mode_override_parameter _______________[0m
[1m[31mtests/test_feature_computer.py[0m:374: in test_mode_override_parameter
    [0mmock_cpu.assert_called()[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:948: in assert_called
    [0m[94mraise[39;49;00m [96mAssertionError[39;49;00m(msg)[90m[39;49;00m
[1m[31mE   AssertionError: Expected '_get_cpu_computer' to have been called.[0m
[31m[1m_______ TestFeatureFilteringIntegration.test_filter_versailles_planarity _______[0m
[1m[31mtests/test_feature_filtering_integration.py[0m:100: in test_filter_versailles_planarity
    [0m[94massert[39;49;00m artifacts_after < artifacts_before, [33m"[39;49;00m[33mShould reduce invalid values[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Should reduce invalid values[0m
[1m[31mE   assert np.int64(0) < np.int64(0)[0m
----------------------------- Captured stdout call -----------------------------

📍 Testing tile: LHD_FXX_0846_6520_PTS_O_LAMB93_IGN69.laz
   Loaded 30,000 points
   Computing normals and eigenvalues...
   Before: 0 invalid, var=0.0364
   Applying planarity filtering...
   After:  0 invalid, var=0.0242
[31m[1m__________ TestFeatureFilteringIntegration.test_performance_benchmark __________[0m
[1m[31mtests/test_feature_filtering_integration.py[0m:281: in test_performance_benchmark
    [0m[94massert[39;49;00m t_filter < t_compute * [94m0.5[39;49;00m, [33m"[39;49;00m[33mFiltering overhead too high (>50[39;49;00m[33m%[39;49;00m[33m)[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Filtering overhead too high (>50%)[0m
[1m[31mE   assert 0.14993500709533691 < (0.2019481658935547 * 0.5)[0m
----------------------------- Captured stdout call -----------------------------

📍 Performance test: LHD_FXX_0846_6520_PTS_O_LAMB93_IGN69.laz

   Testing with 10,000 points:
      Compute: 0.20s
      Filter:  0.15s
      Overhead: 74.2%
[31m[1m_______ TestFeatureFilteringValidation.test_edge_detection_preservation ________[0m
[1m[31mtests/test_feature_filtering_integration.py[0m:372: in test_edge_detection_preservation
    [0m[94massert[39;49;00m edge_preservation > [94m0.7[39;49;00m, [33m"[39;49;00m[33mToo many edges lost (>30[39;49;00m[33m% r[39;49;00m[33meduction)[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Too many edges lost (>30% reduction)[0m
[1m[31mE   assert np.float64(0.35020242914979755) > 0.7[0m
----------------------------- Captured stdout call -----------------------------

📍 Edge preservation test: LHD_FXX_0846_6520_PTS_O_LAMB93_IGN69.laz
   Selected 30,000 building points
   Edge preservation: 35.0%
   (494 → 173 high-planarity points)
[31m[1m___ TestMultiLevelNDVIConstants.test_alignment_with_advanced_classification ____[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:70: in test_alignment_with_advanced_classification
    [0m[94mfrom[39;49;00m[90m [39;49;00m[04m[96mign_lidar[39;49;00m[04m[96m.[39;49;00m[04m[96mcore[39;49;00m[04m[96m.[39;49;00m[04m[96mclassification[39;49;00m[90m [39;49;00m[94mimport[39;49;00m AdvancedClassifier[90m[39;49;00m
[1m[31mE   ImportError: cannot import name 'AdvancedClassifier' from 'ign_lidar.core.classification' (/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/classification/__init__.py)[0m
[31m[1m________ TestMultiLevelNDVIRefinement.test_dense_forest_classification _________[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:94: in test_dense_forest_classification
    [0mengine.ASPRS_BUILDING,  [90m# Misclassified[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'[0m
[31m[1m__ TestMultiLevelNDVIRefinement.test_healthy_trees_classification_with_height __[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:118: in test_healthy_trees_classification_with_height
    [0m[engine.ASPRS_ROAD, engine.ASPRS_ROAD, engine.ASPRS_ROAD]  [90m# Misclassified[39;49;00m[90m[39;49;00m
     ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'[0m
[31m[1m_ TestMultiLevelNDVIRefinement.test_healthy_trees_classification_without_height _[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:141: in test_healthy_trees_classification_without_height
    [0mlabels = np.array([engine.ASPRS_ROAD, engine.ASPRS_ROAD])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'[0m
[31m[1m_____ TestMultiLevelNDVIRefinement.test_moderate_vegetation_classification _____[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:156: in test_moderate_vegetation_classification
    [0mlabels = np.array([engine.ASPRS_BUILDING, engine.ASPRS_ROAD])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'[0m
[31m[1m______ TestMultiLevelNDVIRefinement.test_grass_classification_with_height ______[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:171: in test_grass_classification_with_height
    [0mlabels = np.array([engine.ASPRS_ROAD, engine.ASPRS_ROAD])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'[0m
[31m[1m______ TestMultiLevelNDVIRefinement.test_sparse_vegetation_classification ______[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:187: in test_sparse_vegetation_classification
    [0mlabels = np.array([engine.ASPRS_ROAD, engine.ASPRS_ROAD])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'[0m
[31m[1m_____ TestMultiLevelNDVIRefinement.test_road_threshold_vegetation_removal ______[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:204: in test_road_threshold_vegetation_removal
    [0m[engine.ASPRS_MEDIUM_VEGETATION, engine.ASPRS_HIGH_VEGETATION][90m[39;49;00m
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_MEDIUM_VEGETATION'[0m
[31m[1m___ TestMultiLevelNDVIRefinement.test_unclassified_multilevel_classification ___[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:231: in test_unclassified_multilevel_classification
    [0mlabels = np.full([94m5[39;49;00m, engine.ASPRS_UNCLASSIFIED)[90m[39;49;00m
                        ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_UNCLASSIFIED'[0m
[31m[1m_____________ TestMultiLevelNDVIRefinement.test_water_preservation _____________[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:252: in test_water_preservation
    [0mlabels = np.array([engine.ASPRS_WATER, engine.ASPRS_WATER])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_WATER'[0m
[31m[1m___ TestMultiLevelNDVIRefinement.test_no_change_for_correct_classifications ____[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:275: in test_no_change_for_correct_classifications
    [0mengine.ASPRS_HIGH_VEGETATION,[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_HIGH_VEGETATION'[0m
[31m[1m___ TestGeometricRulesIntegration.test_apply_all_rules_with_multilevel_ndvi ____[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:300: in test_apply_all_rules_with_multilevel_ndvi
    [0m[engine.ASPRS_BUILDING, engine.ASPRS_ROAD, engine.ASPRS_UNCLASSIFIED][90m[39;49;00m
     ^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'[0m
[31m[1m______ TestGeometricRulesIntegration.test_height_calculation_integration _______[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:342: in test_height_calculation_integration
    [0mengine.ASPRS_GROUND,[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_GROUND'[0m
[31m[1m___________ TestBackwardCompatibility.test_road_threshold_still_used ___________[0m
[1m[31mtests/test_geometric_rules_multilevel_ndvi.py[0m:390: in test_road_threshold_still_used
    [0mlabels = np.array([engine.ASPRS_MEDIUM_VEGETATION])[90m[39;49;00m
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_MEDIUM_VEGETATION'[0m
[31m[1m___________________________ test_eigh_single_matrix ____________________________[0m
[1m[31mtests/test_gpu_accelerated_ops.py[0m:190: in test_eigh_single_matrix
    [0mnp.testing.assert_allclose(identity, np.eye([94m3[39;49;00m), rtol=[94m1e-5[39;49;00m)[90m[39;49;00m
[1m[31mE   AssertionError: [0m
[1m[31mE   Not equal to tolerance rtol=1e-05, atol=0[0m
[1m[31mE   [0m
[1m[31mE   Mismatched elements: 6 / 9 (66.7%)[0m
[1m[31mE   Max absolute difference among violations: 2.22044605e-16[0m
[1m[31mE   Max relative difference among violations: inf[0m
[1m[31mE    ACTUAL: array([[ 1.000000e+00, -2.299347e-17,  2.220446e-16],[0m
[1m[31mE          [-2.299347e-17,  1.000000e+00,  4.598694e-17],[0m
[1m[31mE          [ 2.220446e-16,  4.598694e-17,  1.000000e+00]])[0m
[1m[31mE    DESIRED: array([[1., 0., 0.],[0m
[1m[31mE          [0., 1., 0.],[0m
[1m[31mE          [0., 0., 1.]])[0m
[31m[1m_____________________________ test_knn_k_parameter _____________________________[0m
[1m[31mtests/test_gpu_accelerated_ops.py[0m:253: in test_knn_k_parameter
    [0m[94massert[39;49;00m distances.shape == ([94m500[39;49;00m, k)[90m[39;49;00m
[1m[31mE   assert (500,) == (500, 1)[0m
[1m[31mE     [0m
[1m[31mE     Right contains one more item: [0m[94m1[39;49;00m[90m[39;49;00m[0m
[1m[31mE     [0m
[1m[31mE     Full diff:[0m
[1m[31mE     [0m[90m [39;49;00m ([90m[39;49;00m[0m
[1m[31mE     [90m [39;49;00m     500,[90m[39;49;00m[0m
[1m[31mE     [91m-     1,[39;49;00m[90m[39;49;00m[0m
[1m[31mE     [90m [39;49;00m )[90m[39;49;00m[0m
[31m[1m___________________________ test_invalid_input_eigh ____________________________[0m
[1m[31mtests/test_gpu_accelerated_ops.py[0m:415: in test_invalid_input_eigh
    [0m[94mwith[39;49;00m pytest.warns([96mUserWarning[39;49;00m) [95mor[39;49;00m pytest.raises(np.linalg.LinAlgError):[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   Failed: DID NOT RAISE <class 'numpy.linalg.LinAlgError'>[0m
[31m[1m____________________________ test_invalid_input_knn ____________________________[0m
[1m[31mtests/test_gpu_accelerated_ops.py[0m:424: in test_invalid_input_knn
    [0m[94mwith[39;49;00m pytest.raises(([96mValueError[39;49;00m, [96mIndexError[39;49;00m)):[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   Failed: DID NOT RAISE any of (<class 'ValueError'>, <class 'IndexError'>)[0m
[31m[1m______________ TestConvenienceMethods.test_cleanup_method_exists _______________[0m
[1m[31mtests/test_gpu_composition_api.py[0m:109: in test_cleanup_method_exists
    [0mgpu.cleanup()[90m[39;49;00m
[1m[31mign_lidar/core/gpu.py[0m:448: in cleanup
    [0m[96mself[39;49;00m._memory_manager.cleanup()[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GPUMemoryManager' object has no attribute 'cleanup'[0m
[31m[1m____________ TestGPUManagerIntegration.test_cleanup_resets_profiler ____________[0m
[1m[31mtests/test_gpu_profiler.py[0m:324: in test_cleanup_resets_profiler
    [0mgpu.cleanup()[90m[39;49;00m
[1m[31mign_lidar/core/gpu.py[0m:448: in cleanup
    [0m[96mself[39;49;00m._memory_manager.cleanup()[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'GPUMemoryManager' object has no attribute 'cleanup'[0m
[31m[1m________________________ TestMemoryCache.test_cache_hit ________________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:110: in test_cache_hit
    [0mlabels1 = optimizer.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m_____________________ TestMemoryCache.test_cache_disabled ______________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:133: in test_cache_disabled
    [0mlabels1 = optimizer.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m_______________________ TestMemoryCache.test_cache_clear _______________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:151: in test_cache_clear
    [0moptimizer.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m__________________ TestLRUEviction.test_max_entries_eviction ___________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:186: in test_max_entries_eviction
    [0moptimizer.label_points(points, ground_truth)[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m____________________ TestLRUEviction.test_max_size_eviction ____________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:214: in test_max_size_eviction
    [0moptimizer.label_points(points, ground_truth)[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m__________________ TestDiskCache.test_disk_cache_persistence ___________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:238: in test_disk_cache_persistence
    [0mlabels1 = optimizer1.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m_____________________ TestCacheStatistics.test_cache_stats _____________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:318: in test_cache_stats
    [0moptimizer.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m__________________ TestBatchProcessing.test_batch_processing ___________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:359: in test_batch_processing
    [0mresults = optimizer.label_points_batch(tiles, ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:904: in label_points_batch
    [0mlabels = [96mself[39;49;00m.label_points([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m_______________ TestBatchProcessing.test_batch_with_cache_reuse ________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:390: in test_batch_with_cache_reuse
    [0mresults = optimizer.label_points_batch(tiles, ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:904: in label_points_batch
    [0mlabels = [96mself[39;49;00m.label_points([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m___________________ TestCachePerformance.test_cache_speedup ____________________[0m
[1m[31mtests/test_ground_truth_cache.py[0m:419: in test_cache_speedup
    [0mlabels1 = optimizer.label_points(sample_points, sample_ground_truth)[90m[39;49;00m
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:522: in label_points
    [0mlabels = [96mself[39;49;00m._label_strtree([90m[39;49;00m
[1m[31mign_lidar/optimization/ground_truth.py[0m:705: in _label_strtree
    [0m[94mif[39;49;00m [95mnot[39;49;00m candidate_indices:[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.[0m
[31m[1m________________ TestModeSelector.test_initialization_with_gpu _________________[0m
[1m[31mtests/test_mode_selector.py[0m:51: in test_initialization_with_gpu
    [0m[94massert[39;49;00m selector_with_gpu.gpu_available [95mis[39;49;00m [94mTrue[39;49;00m[90m[39;49;00m
[1m[31mE   assert False is True[0m
[1m[31mE    +  where False = <ign_lidar.features.mode_selector.ModeSelector object at 0x78370f28d550>.gpu_available[0m
[31m[1m__________________ TestModeSelector.test_small_cloud_with_gpu __________________[0m
[1m[31mtests/test_mode_selector.py[0m:67: in test_small_cloud_with_gpu
    [0m[94massert[39;49;00m mode == ComputationMode.GPU[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>[0m
[1m[31mE    +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU[0m
[31m[1m_________________ TestModeSelector.test_medium_cloud_with_gpu __________________[0m
[1m[31mtests/test_mode_selector.py[0m:89: in test_medium_cloud_with_gpu
    [0m[94massert[39;49;00m mode == ComputationMode.GPU[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>[0m
[1m[31mE    +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU[0m
[31m[1m__________________ TestModeSelector.test_large_cloud_with_gpu __________________[0m
[1m[31mtests/test_mode_selector.py[0m:101: in test_large_cloud_with_gpu
    [0m[94massert[39;49;00m mode [95min[39;49;00m (ComputationMode.GPU, ComputationMode.GPU_CHUNKED)[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> in (<ComputationMode.GPU: 'gpu'>, <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>)[0m
[31m[1m_______________ TestModeSelector.test_very_large_cloud_with_gpu ________________[0m
[1m[31mtests/test_mode_selector.py[0m:113: in test_very_large_cloud_with_gpu
    [0m[94massert[39;49;00m mode == ComputationMode.GPU_CHUNKED[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>[0m
[1m[31mE    +  where <ComputationMode.GPU_CHUNKED: 'gpu_chunked'> = ComputationMode.GPU_CHUNKED[0m
------------------------------ Captured log call -------------------------------
[33mWARNING [0m ign_lidar.features.mode_selector:mode_selector.py:230 Large cloud (15,000,000 points) but GPU unavailable, using CPU (may be slow)
[31m[1m_______________________ TestModeSelector.test_force_gpu ________________________[0m
[1m[31mtests/test_mode_selector.py[0m:129: in test_force_gpu
    [0mmode = selector_with_gpu.select_mode(num_points=[94m1_000_000[39;49;00m, force_gpu=[94mTrue[39;49;00m)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/features/mode_selector.py[0m:168: in select_mode
    [0m[94mraise[39;49;00m [96mValueError[39;49;00m([33m"[39;49;00m[33mGPU mode forced but GPU not available[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   ValueError: GPU mode forced but GPU not available[0m
[31m[1m__________________ TestModeSelector.test_get_recommendations ___________________[0m
[1m[31mtests/test_mode_selector.py[0m:222: in test_get_recommendations
    [0m[94massert[39;49;00m recommendations[[33m"[39;49;00m[33mgpu_available[39;49;00m[33m"[39;49;00m] [95mis[39;49;00m [94mTrue[39;49;00m[90m[39;49;00m
[1m[31mE   assert False is True[0m
[31m[1m_________ TestModeSelectionIntegration.test_workstation_small_dataset __________[0m
[1m[31mtests/test_mode_selector.py[0m:294: in test_workstation_small_dataset
    [0m[94massert[39;49;00m mode == ComputationMode.GPU[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>[0m
[1m[31mE    +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU[0m
[31m[1m_________ TestModeSelectionIntegration.test_workstation_large_dataset __________[0m
[1m[31mtests/test_mode_selector.py[0m:302: in test_workstation_large_dataset
    [0m[94massert[39;49;00m mode == ComputationMode.GPU_CHUNKED[90m[39;49;00m
[1m[31mE   AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>[0m
[1m[31mE    +  where <ComputationMode.GPU_CHUNKED: 'gpu_chunked'> = ComputationMode.GPU_CHUNKED[0m
------------------------------ Captured log call -------------------------------
[33mWARNING [0m ign_lidar.features.mode_selector:mode_selector.py:230 Large cloud (20,000,000 points) but GPU unavailable, using CPU (may be slow)
[31m[1m________________ TestFeatureComputerInit.test_init_basic_config ________________[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:157: in test_init_basic_config
    [0m[94massert[39;49;00m computer.config == basic_config[90m[39;49;00m
           ^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'FeatureComputer' object has no attribute 'config'[0m
[31m[1m____________ TestFeatureComputerInit.test_init_with_feature_manager ____________[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:167: in test_init_with_feature_manager
    [0m[94massert[39;49;00m computer.feature_manager == mock_feature_manager[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'FeatureComputer' object has no attribute 'feature_manager'[0m
[31m[1m_________________ TestFeatureComputerInit.test_init_gpu_config _________________[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:173: in test_init_gpu_config
    [0m[94massert[39;49;00m computer.use_gpu [95mis[39;49;00m [94mTrue[39;49;00m[90m[39;49;00m
           ^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'FeatureComputer' object has no attribute 'use_gpu'[0m
[31m[1m_____ TestGeometricFeatureComputation.test_compute_geometric_features_cpu ______[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m_____ TestGeometricFeatureComputation.test_compute_geometric_features_gpu ______[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m______________ TestFeatureComputation.test_compute_features_basic ______________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m__________ TestFeatureComputation.test_compute_features_with_enriched __________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m_________________ TestRGBFeatures.test_add_rgb_from_input_laz __________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m___________________ TestRGBFeatures.test_add_rgb_unavailable ___________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:311: in test_add_rgb_unavailable
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.core.modules.feature_computer.FeatureComputerFactory[39;49;00m[33m'[39;49;00m):[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m_________________ TestNIRFeatures.test_add_nir_from_input_laz __________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m___________________ TestNIRFeatures.test_add_nir_unavailable ___________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m________________ TestNDVIFeatures.test_add_ndvi_from_input_laz _________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m_______________ TestNDVIFeatures.test_compute_ndvi_from_rgb_nir ________________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m__________ TestArchitecturalStyle.test_add_architectural_style_single __________[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:351: in __getattr__
    [0m[94mreturn[39;49;00m [96mself[39;49;00m._get_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:442: in _get_impl
    [0mnode = [96mself[39;49;00m._get_child([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/basecontainer.py[0m:73: in _get_child
    [0mchild = [96mself[39;49;00m._get_node([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:480: in _get_node
    [0m[94mraise[39;49;00m ConfigKeyError([33mf[39;49;00m[33m"[39;49;00m[33mMissing key [39;49;00m[33m{[39;49;00mkey[33m!s}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ConfigKeyError: Missing key gpu_available[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:471: in test_add_architectural_style_single
    [0mcomputer = FeatureComputer(config)[90m[39;49;00m
               ^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/features/feature_computer.py[0m:81: in __init__
    [0mlogger.info([33mf[39;49;00m[33m"[39;49;00m[33m  GPU available: [39;49;00m[33m{[39;49;00m[96mself[39;49;00m.mode_selector.gpu_available[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:355: in __getattr__
    [0m[96mself[39;49;00m._format_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/base.py[0m:231: in _format_and_raise
    [0mformat_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:899: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:351: in __getattr__
    [0m[94mreturn[39;49;00m [96mself[39;49;00m._get_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:442: in _get_impl
    [0mnode = [96mself[39;49;00m._get_child([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/basecontainer.py[0m:73: in _get_child
    [0mchild = [96mself[39;49;00m._get_node([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:480: in _get_node
    [0m[94mraise[39;49;00m ConfigKeyError([33mf[39;49;00m[33m"[39;49;00m[33mMissing key [39;49;00m[33m{[39;49;00mkey[33m!s}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ConfigAttributeError: Missing key gpu_available[0m
[1m[31mE       full_key: gpu_available[0m
[1m[31mE       object_type=dict[0m
[31m[1m_______ TestArchitecturalStyle.test_add_architectural_style_multi_label ________[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:351: in __getattr__
    [0m[94mreturn[39;49;00m [96mself[39;49;00m._get_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:442: in _get_impl
    [0mnode = [96mself[39;49;00m._get_child([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/basecontainer.py[0m:73: in _get_child
    [0mchild = [96mself[39;49;00m._get_node([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:480: in _get_node
    [0m[94mraise[39;49;00m ConfigKeyError([33mf[39;49;00m[33m"[39;49;00m[33mMissing key [39;49;00m[33m{[39;49;00mkey[33m!s}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ConfigKeyError: Missing key gpu_available[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31mtests/test_modules/test_feature_computer.py[0m:506: in test_add_architectural_style_multi_label
    [0mcomputer = FeatureComputer(config)[90m[39;49;00m
               ^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/features/feature_computer.py[0m:81: in __init__
    [0mlogger.info([33mf[39;49;00m[33m"[39;49;00m[33m  GPU available: [39;49;00m[33m{[39;49;00m[96mself[39;49;00m.mode_selector.gpu_available[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:355: in __getattr__
    [0m[96mself[39;49;00m._format_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/base.py[0m:231: in _format_and_raise
    [0mformat_and_raise([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:899: in format_and_raise
    [0m_raise(ex, cause)[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/_utils.py[0m:797: in _raise
    [0m[94mraise[39;49;00m ex.with_traceback(sys.exc_info()[[94m2[39;49;00m])  [90m# set env var OC_CAUSE=1 for full trace[39;49;00m[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:351: in __getattr__
    [0m[94mreturn[39;49;00m [96mself[39;49;00m._get_impl([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:442: in _get_impl
    [0mnode = [96mself[39;49;00m._get_child([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/basecontainer.py[0m:73: in _get_child
    [0mchild = [96mself[39;49;00m._get_node([90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/site-packages/omegaconf/dictconfig.py[0m:480: in _get_node
    [0m[94mraise[39;49;00m ConfigKeyError([33mf[39;49;00m[33m"[39;49;00m[33mMissing key [39;49;00m[33m{[39;49;00mkey[33m!s}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   omegaconf.errors.ConfigAttributeError: Missing key gpu_available[0m
[1m[31mE       full_key: gpu_available[0m
[1m[31mE       object_type=dict[0m
[31m[1m____________ TestFeatureFlowLogging.test_feature_flow_debug_logging ____________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m____________ TestFeatureFlowLogging.test_empty_geo_features_warning ____________[0m
[1m[31mign_lidar/core/__init__.py[0m:111: in __getattr__
    [0m[94mreturn[39;49;00m importlib.import_module(module_path)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/importlib/__init__.py[0m:88: in import_module
    [0m[94mreturn[39;49;00m _bootstrap._gcd_import(name[level:], package, level)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.classification.feature_computer'[0m

[33mThe above exception was the direct cause of the following exception:[0m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1423: in patched
    [0m[94mwith[39;49;00m [96mself[39;49;00m.decoration_helper(patched,[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:141: in __enter__
    [0m[94mreturn[39;49;00m [96mnext[39;49;00m([96mself[39;49;00m.gen)[90m[39;49;00m
           ^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1405: in decoration_helper
    [0marg = exit_stack.enter_context(patching)[90m[39;49;00m
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/contextlib.py[0m:530: in enter_context
    [0mresult = _enter(cm)[90m[39;49;00m
             ^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1481: in __enter__
    [0m[96mself[39;49;00m.target = [96mself[39;49;00m.getter()[90m[39;49;00m
                  ^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/pkgutil.py[0m:528: in resolve_name
    [0mresult = [96mgetattr[39;49;00m(result, p)[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/__init__.py[0m:113: in __getattr__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'[0m
[31m[1m_________________ TestPreprocessing.test_preprocessing_sor_ror _________________[0m
[1m[31mtests/test_modules/test_tile_loader.py[0m:331: in test_preprocessing_sor_ror
    [0mresult = loader.apply_preprocessing(mock_tile_data.copy())[90m[39;49;00m
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/core/classification/io/tiles.py[0m:402: in apply_preprocessing
    [0m[94mfrom[39;49;00m[90m [39;49;00m[04m[96m.[39;49;00m[04m[96m.[39;49;00m[04m[96m.[39;49;00m[04m[96mpreprocessing[39;49;00m[04m[96m.[39;49;00m[04m[96mpreprocessing[39;49;00m[90m [39;49;00m[94mimport[39;49;00m ([90m[39;49;00m
[1m[31mE   ModuleNotFoundError: No module named 'ign_lidar.core.preprocessing'[0m
[31m[1m____________________ TestPatchAugmentation.test_translation ____________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:145: in test_translation
    [0m[94massert[39;49;00m np.linalg.norm(offset) <= [94m1.0[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert np.float32(1.054426) <= 1.0[0m
[1m[31mE    +  where np.float32(1.054426) = <function norm at 0x7837fefda970>(array([-0.67880225,  0.78336847,  0.19332695], dtype=float32))[0m
[1m[31mE    +    where <function norm at 0x7837fefda970> = <module 'numpy.linalg' from '/home/simon/miniconda3/lib/python3.13/site-packages/numpy/linalg/__init__.py'>.norm[0m
[1m[31mE    +      where <module 'numpy.linalg' from '/home/simon/miniconda3/lib/python3.13/site-packages/numpy/linalg/__init__.py'> = np.linalg[0m
[31m[1m_________________ TestIGNLiDARMultiArchDataset.test_init_basic _________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:212: in test_init_basic
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m______________ TestIGNLiDARMultiArchDataset.test_init_with_preset ______________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:224: in test_init_with_preset
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m_________________ TestIGNLiDARMultiArchDataset.test_data_split _________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:251: in test_data_split
    [0mtrain_dataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m__________________ TestIGNLiDARMultiArchDataset.test_getitem ___________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:286: in test_getitem
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m____________________ TestIGNLiDARMultiArchDataset.test_len _____________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:307: in test_len
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m___________ TestIGNLiDARMultiArchDataset.test_architecture_pointnet ____________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:318: in test_architecture_pointnet
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m__________ TestIGNLiDARMultiArchDataset.test_architecture_transformer __________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:332: in test_architecture_transformer
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m____________ TestIGNLiDARMultiArchDataset.test_architecture_octree _____________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:348: in test_architecture_octree
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m__________ TestIGNLiDARMultiArchDataset.test_architecture_sparse_conv __________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:362: in test_architecture_sparse_conv
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m________________ TestIGNLiDARMultiArchDataset.test_augmentation ________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:376: in test_augmentation
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m______________ TestIGNLiDARMultiArchDataset.test_cache_in_memory _______________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:395: in test_cache_in_memory
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m_______________ TestIGNLiDARMultiArchDataset.test_get_dataloader _______________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:415: in test_get_dataloader
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m_________________ TestIGNLiDARMultiArchDataset.test_get_stats __________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:435: in test_get_stats
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m__________________ TestIGNLiDARMultiArchDataset.test_presets ___________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:454: in test_presets
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m______________________ TestIntegration.test_full_pipeline ______________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:474: in test_full_pipeline
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m_________________ TestIntegration.test_multiple_architectures __________________[0m
[1m[31mtests/test_multi_arch_dataset.py[0m:510: in test_multiple_architectures
    [0mdataset = IGNLiDARMultiArchDataset([90m[39;49;00m
[1m[31mign_lidar/datasets/multi_arch_dataset.py[0m:220: in __init__
    [0m[94mraise[39;49;00m [96mImportError[39;49;00m([90m[39;49;00m
[1m[31mE   ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.[0m
[31m[1m__________ TestMultiScaleGPUConnection.test_successful_gpu_connection __________[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:77: in test_successful_gpu_connection
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.features.orchestrator.cp[39;49;00m[33m'[39;49;00m) [94mas[39;49;00m mock_cp:[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'[0m
[31m[1m__________ TestMultiScaleGPUConnection.test_gpu_not_available_warning __________[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:114: in test_gpu_not_available_warning
    [0m[94massert[39;49;00m [33m'[39;49;00m[33mfalling back to CPU[39;49;00m[33m'[39;49;00m [95min[39;49;00m log_text[90m[39;49;00m
[1m[31mE   AssertionError: assert 'falling back to CPU' in '  \u26a0\ufe0f  GPU requested but no GPU processor available in feature computer        This may occur if:        1. CuPy is not installed (install: pip install cupy-cuda11x or cupy-cuda12x)        2. No CUDA-compatible GPU detected        3. GPU initialization failed during feature computer setup        \u2192 Multi-scale features will use CPU fallback'[0m
------------------------------ Captured log call -------------------------------
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:451   ⚠️  GPU requested but no GPU processor available in feature computer
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:452        This may occur if:
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:453        1. CuPy is not installed (install: pip install cupy-cuda11x or cupy-cuda12x)
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:454        2. No CUDA-compatible GPU detected
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:455        3. GPU initialization failed during feature computer setup
[33mWARNING [0m ign_lidar.features.orchestrator:orchestrator.py:456        → Multi-scale features will use CPU fallback
[31m[1m_________ TestMultiScaleGPUConnection.test_cupy_not_installed_fallback _________[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:127: in test_cupy_not_installed_fallback
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.features.orchestrator.cp[39;49;00m[33m'[39;49;00m, side_effect=[96mImportError[39;49;00m([33m"[39;49;00m[33mNo module named [39;49;00m[33m'[39;49;00m[33mcupy[39;49;00m[33m'[39;49;00m[33m"[39;49;00m)):[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'[0m
[31m[1m_______ TestMultiScaleGPUConnection.test_gpu_validation_failure_fallback _______[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:150: in test_gpu_validation_failure_fallback
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.features.orchestrator.cp[39;49;00m[33m'[39;49;00m) [94mas[39;49;00m mock_cp:[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'[0m
[31m[1m___________ TestMultiScaleGPUConnection.test_gpu_memory_info_logging ___________[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:191: in test_gpu_memory_info_logging
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.features.orchestrator.cp[39;49;00m[33m'[39;49;00m) [94mas[39;49;00m mock_cp:[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'[0m
[31m[1m______________ TestMultiScaleGPUConnection.test_force_gpu_config _______________[0m
[1m[31mtests/test_multi_scale_gpu_connection.py[0m:218: in test_force_gpu_config
    [0m[94mwith[39;49;00m patch([33m'[39;49;00m[33mign_lidar.features.orchestrator.cp[39;49;00m[33m'[39;49;00m) [94mas[39;49;00m mock_cp:[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1497: in __enter__
    [0moriginal, local = [96mself[39;49;00m.get_original()[90m[39;49;00m
                      ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m/home/simon/miniconda3/lib/python3.13/unittest/mock.py[0m:1467: in get_original
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([90m[39;49;00m
[1m[31mE   AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'[0m
[31m[1m____________________ test_classifier_requires_spatial_libs _____________________[0m
[1m[31mtests/test_parcel_classifier.py[0m:225: in test_classifier_requires_spatial_libs
    [0m[94mwith[39;49;00m pytest.raises([96mImportError[39;49;00m, match=[33m"[39;49;00m[33mshapely and geopandas required[39;49;00m[33m"[39;49;00m):[90m[39;49;00m
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   Failed: DID NOT RAISE <class 'ImportError'>[0m
[31m[1m_______________________ test_refine_forest_parcel_points _______________________[0m
[1m[31mtests/test_parcel_classifier.py[0m:451: in test_refine_forest_parcel_points
    [0m[94massert[39;49;00m np.any(labels == classifier.ASPRS_HIGH_VEGETATION)[90m[39;49;00m
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_HIGH_VEGETATION'[0m
[31m[1m______________________ test_refine_building_parcel_points ______________________[0m
[1m[31mtests/test_parcel_classifier.py[0m:498: in test_refine_building_parcel_points
    [0m[94massert[39;49;00m np.all(labels == classifier.ASPRS_BUILDING)[90m[39;49;00m
                            ^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_BUILDING'[0m
[31m[1m_____________________ test_classify_by_parcels_integration _____________________[0m
[1m[31mtests/test_parcel_classifier.py[0m:595: in test_classify_by_parcels_integration
    [0mclassifier.ASPRS_LOW_VEGETATION,[90m[39;49;00m
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_LOW_VEGETATION'[0m
[31m[1m______ TestPlanarityFiltering.test_smooth_planarity_k_neighbors_parameter ______[0m
[1m[31mtests/test_planarity_filtering.py[0m:212: in test_smooth_planarity_k_neighbors_parameter
    [0msmoothed_k5, _ = smooth_planarity_spatial(planarity, points, k_neighbors=[94m4[39;49;00m)[90m[39;49;00m
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/features/compute/planarity_filter.py[0m:102: in smooth_planarity_spatial
    [0mdistances, neighbor_indices = knn_search([90m[39;49;00m
[1m[31mign_lidar/optimization/knn_engine.py[0m:549: in knn_search
    [0m[94mreturn[39;49;00m engine.search(points, k=k, query_points=query_points)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/knn_engine.py[0m:250: in search
    [0m[94mraise[39;49;00m [96mValueError[39;49;00m([33mf[39;49;00m[33m"[39;49;00m[33mk=[39;49;00m[33m{[39;49;00mk[33m}[39;49;00m[33m must be less than n_points=[39;49;00m[33m{[39;49;00mn_points[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   ValueError: k=5 must be less than n_points=5[0m
[31m[1m______ TestPlanarityFiltering.test_smooth_planarity_threshold_sensitivity ______[0m
[1m[31mtests/test_planarity_filtering.py[0m:230: in test_smooth_planarity_threshold_sensitivity
    [0m_, stats_low = smooth_planarity_spatial(planarity, points, std_threshold=[94m0.1[39;49;00m)[90m[39;49;00m
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/features/compute/planarity_filter.py[0m:102: in smooth_planarity_spatial
    [0mdistances, neighbor_indices = knn_search([90m[39;49;00m
[1m[31mign_lidar/optimization/knn_engine.py[0m:549: in knn_search
    [0m[94mreturn[39;49;00m engine.search(points, k=k, query_points=query_points)[90m[39;49;00m
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mign_lidar/optimization/knn_engine.py[0m:250: in search
    [0m[94mraise[39;49;00m [96mValueError[39;49;00m([33mf[39;49;00m[33m"[39;49;00m[33mk=[39;49;00m[33m{[39;49;00mk[33m}[39;49;00m[33m must be less than n_points=[39;49;00m[33m{[39;49;00mn_points[33m}[39;49;00m[33m"[39;49;00m)[90m[39;49;00m
[1m[31mE   ValueError: k=5 must be less than n_points=5[0m
[31m[1m___________ TestAdaptiveBuffers.test_adaptive_buffer_medium_building ___________[0m
[1m[31mtests/test_reclassification_improvements.py[0m:119: in test_adaptive_buffer_medium_building
    [0m[94massert[39;49;00m buffer == expected[90m[39;49;00m
[1m[31mE   assert np.float64(1.6) == 1.0[0m
[31m[1m___________ TestAdaptiveBuffers.test_adaptive_buffer_large_building ____________[0m
[1m[31mtests/test_reclassification_improvements.py[0m:136: in test_adaptive_buffer_large_building
    [0m[94massert[39;49;00m buffer == expected[90m[39;49;00m
[1m[31mE   assert np.float64(4.0) == 2.5[0m
[31m[1m_________ TestAdaptiveBuffers.test_adaptive_buffer_very_large_building _________[0m
[1m[31mtests/test_reclassification_improvements.py[0m:153: in test_adaptive_buffer_very_large_building
    [0m[94massert[39;49;00m buffer == [94m3.0[39;49;00m[90m[39;49;00m
[1m[31mE   assert np.float64(4.0) == 3.0[0m
[31m[1m________________________ test_cpu_vectorized_vs_legacy _________________________[0m
[1m[31mtests/test_reclassifier_performance.py[0m:76: in test_cpu_vectorized_vs_legacy
    [0m[94massert[39;49;00m speedup >= [94m3.0[39;49;00m, [33mf[39;49;00m[33m"[39;49;00m[33mExpected at least 3× speedup, got [39;49;00m[33m{[39;49;00mspeedup[33m:[39;49;00m[33m.1f[39;49;00m[33m}[39;49;00m[33m×[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Expected at least 3× speedup, got 2.2×[0m
[1m[31mE   assert 2.1709677658854543 >= 3.0[0m
----------------------------- Captured stdout call -----------------------------

============================================================
CPU Vectorized vs Legacy Performance
============================================================
Points:          1,000,000
Polygons:        100
Classified:      82,441
Legacy time:     9.412s
Vectorized time: 4.335s
Speedup:         2.2×
============================================================
[31m[1m______________________ test_spectral_rules_initialization ______________________[0m
[1m[31mtests/test_spectral_rules.py[0m:17: in test_spectral_rules_initialization
    [0m[94massert[39;49;00m engine.nir_vegetation_threshold == [94m0.4[39;49;00m[90m[39;49;00m
[1m[31mE   assert 0.35 == 0.4[0m
[1m[31mE    +  where 0.35 = <ign_lidar.core.classification.spectral_rules.SpectralRulesEngine object at 0x78368c4a1020>.nir_vegetation_threshold[0m
[31m[1m____________________ test_concrete_building_classification _____________________[0m
[1m[31mtests/test_spectral_rules.py[0m:93: in test_concrete_building_classification
    [0m[94massert[39;49;00m stats[[33m"[39;49;00m[33mbuilding_concrete_spectral[39;49;00m[33m"[39;49;00m] > [94m0[39;49;00m[90m[39;49;00m
[1m[31mE   assert 0 > 0[0m
[31m[1m_________________________ test_asphalt_classification __________________________[0m
[1m[31mtests/test_spectral_rules.py[0m:114: in test_asphalt_classification
    [0m[94massert[39;49;00m n_roads > [94m300[39;49;00m, [33mf[39;49;00m[33m"[39;49;00m[33mExpected >300 road points, got [39;49;00m[33m{[39;49;00mn_roads[33m}[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: Expected >300 road points, got 0[0m
[1m[31mE   assert np.int64(0) > 300[0m
[31m[1m________________________ test_classify_with_confidence _________________________[0m
[1m[31mtests/test_spectral_rules.py[0m:156: in test_classify_with_confidence
    [0mnew_labels, confidence, stats = engine.classify_with_confidence([90m[39;49;00m
[1m[31mign_lidar/core/classification/spectral_rules.py[0m:509: in classify_with_confidence
    [0munclassified_mask = labels == [96mself[39;49;00m.ASPRS_UNCLASSIFIED[90m[39;49;00m
                                  ^^^^^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31mE   AttributeError: 'SpectralRulesEngine' object has no attribute 'ASPRS_UNCLASSIFIED'[0m
[31m[1m___________________________ test_statistics_tracking ___________________________[0m
[1m[31mtests/test_spectral_rules.py[0m:210: in test_statistics_tracking
    [0m[94massert[39;49;00m stats[[33m"[39;49;00m[33mtotal_reclassified[39;49;00m[33m"[39;49;00m] == total_classified[90m[39;49;00m
[1m[31mE   assert np.int64(946) == 940[0m
[33m=============================== warnings summary ===============================[0m
tests/test_gpu_bridge.py::TestEdgeCases::test_zero_neighbors
tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_all_nan
  /home/simon/miniconda3/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:3860: RuntimeWarning: Mean of empty slice.
    return _methods._mean(a, axis=axis, dtype=dtype,

tests/test_gpu_bridge.py::TestEdgeCases::test_zero_neighbors
  /home/simon/miniconda3/lib/python3.13/site-packages/numpy/_core/_methods.py:136: RuntimeWarning: invalid value encountered in divide
    ret = um.true_divide(

tests/test_gpu_bridge.py::TestEdgeCases::test_zero_neighbors
  /mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/compute/gpu_bridge.py:362: RuntimeWarning: invalid value encountered in divide
    covariances = np.einsum('nki,nkj->nij', centered, centered) / k  # Shape: (N, 3, 3)

tests/test_planarity_filtering.py::TestPlanarityFiltering::test_smooth_planarity_all_nan
  /home/simon/miniconda3/lib/python3.13/site-packages/numpy/_core/_methods.py:144: RuntimeWarning: invalid value encountered in divide
    ret = ret.dtype.type(ret / rcount)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.13.9-final-0 ________________

Name                                                             Stmts   Miss  Cover
------------------------------------------------------------------------------------
ign_lidar/__init__.py                                              103     20    81%
ign_lidar/classification_schema.py                                 248     42    83%
ign_lidar/cli/__init__.py                                            2      2     0%
ign_lidar/cli/commands/__init__.py                                  12     12     0%
ign_lidar/cli/commands/auto_config.py                               89     89     0%
ign_lidar/cli/commands/batch_convert.py                            112    112     0%
ign_lidar/cli/commands/config_commands.py                          161    161     0%
ign_lidar/cli/commands/download.py                                  69     69     0%
ign_lidar/cli/commands/ground_truth.py                             123    123     0%
ign_lidar/cli/commands/info.py                                      96     96     0%
ign_lidar/cli/commands/migrate_config.py                           143    143     0%
ign_lidar/cli/commands/presets.py                                   66     66     0%
ign_lidar/cli/commands/process.py                                  134    134     0%
ign_lidar/cli/commands/update_classification.py                    151    151     0%
ign_lidar/cli/commands/verify.py                                    84     84     0%
ign_lidar/cli/hydra_runner.py                                      130    130     0%
ign_lidar/cli/main.py                                               60     60     0%
ign_lidar/config/__init__.py                                        19     12    37%
ign_lidar/config/building_config.py                                 57      0   100%
ign_lidar/config/config.py                                         145     25    83%
ign_lidar/config/preset_loader.py                                  168    146    13%
ign_lidar/config/schema.py                                         139     42    70%
ign_lidar/config/schema_simplified.py                              108    108     0%
ign_lidar/config/validator.py                                      215    215     0%
ign_lidar/core/__init__.py                                          31      0   100%
ign_lidar/core/adaptive_optimizer.py                               156    156     0%
ign_lidar/core/classification/__init__.py                           70     34    51%
ign_lidar/core/classification/asprs_class_rules.py                 286     57    80%
ign_lidar/core/classification/base.py                               86     17    80%
ign_lidar/core/classification/building/__init__.py                  97     60    38%
ign_lidar/core/classification/building/adaptive.py                 297    246    17%
ign_lidar/core/classification/building/balcony_detector.py         179     22    88%
ign_lidar/core/classification/building/base.py                     106     43    59%
ign_lidar/core/classification/building/building_classifier.py      143     16    89%
ign_lidar/core/classification/building/chimney_detector.py         172     19    89%
ign_lidar/core/classification/building/clustering.py               377    151    60%
ign_lidar/core/classification/building/detection.py                265    245     8%
ign_lidar/core/classification/building/extrusion_3d.py             408    355    13%
ign_lidar/core/classification/building/facade_processor.py         793    550    31%
ign_lidar/core/classification/building/fusion.py                   398    335    16%
ign_lidar/core/classification/building/roof_classifier.py          214     29    86%
ign_lidar/core/classification/building/utils.py                    193    157    19%
ign_lidar/core/classification/classification_validation.py         270    270     0%
ign_lidar/core/classification/classifier.py                        664    519    22%
ign_lidar/core/classification/config_validator.py                   62     42    32%
ign_lidar/core/classification/constants.py                          24      1    96%
ign_lidar/core/classification/dtm_augmentation.py                  312    250    20%
ign_lidar/core/classification/enrichment.py                        225    179    20%
ign_lidar/core/classification/feature_reuse.py                     195    195     0%
ign_lidar/core/classification/feature_validator.py                 412     60    85%
ign_lidar/core/classification/geometric_rules.py                   418    357    15%
ign_lidar/core/classification/grammar_3d.py                        315    315     0%
ign_lidar/core/classification/ground_truth_artifact_checker.py     173    142    18%
ign_lidar/core/classification/ground_truth_refinement.py           560    203    64%
ign_lidar/core/classification/hierarchical_classifier.py           275    275     0%
ign_lidar/core/classification/io/__init__.py                         5      0   100%
ign_lidar/core/classification/io/loaders.py                        150    115    23%
ign_lidar/core/classification/io/serializers.py                    317    231    27%
ign_lidar/core/classification/io/tiles.py                          298    213    29%
ign_lidar/core/classification/memory.py                             82     73    11%
ign_lidar/core/classification/parcel_classifier.py                 354    125    65%
ign_lidar/core/classification/patch_extractor.py                   169    140    17%
ign_lidar/core/classification/plane_detection.py                   296     68    77%
ign_lidar/core/classification/priorities.py                         19      6    68%
ign_lidar/core/classification/reclassifier.py                      507    340    33%
ign_lidar/core/classification/rules/__init__.py                     31      6    81%
ign_lidar/core/classification/rules/adapters.py                     39     21    46%
ign_lidar/core/classification/rules/base.py                        183     30    84%
ign_lidar/core/classification/rules/confidence.py                  156      4    97%
ign_lidar/core/classification/rules/geometric_adapter.py            62     47    24%
ign_lidar/core/classification/rules/hierarchy.py                   127      1    99%
ign_lidar/core/classification/rules/spectral_adapter.py             77     62    19%
ign_lidar/core/classification/rules/validation.py                  106      1    99%
ign_lidar/core/classification/spectral_rules.py                    186     82    56%
ign_lidar/core/classification/stitching.py                          93     67    28%
ign_lidar/core/classification/thresholds.py                        297     60    80%
ign_lidar/core/classification/transport/__init__.py                 10      1    90%
ign_lidar/core/classification/transport/base.py                    237     77    68%
ign_lidar/core/classification/transport/detection.py               198    182     8%
ign_lidar/core/classification/transport/enhancement.py             226    167    26%
ign_lidar/core/classification/transport/utils.py                   144    120    17%
ign_lidar/core/classification_applier.py                            96     83    14%
ign_lidar/core/classification_engine.py                             59     36    39%
ign_lidar/core/error_handler.py                                    164     28    83%
ign_lidar/core/feature_engine.py                                    51     18    65%
ign_lidar/core/gpu.py                                              144     37    74%
ign_lidar/core/gpu_context.py                                       24     17    29%
ign_lidar/core/gpu_memory.py                                       122     87    29%
ign_lidar/core/gpu_profiler.py                                     180     95    47%
ign_lidar/core/ground_truth_hub.py                                 124      0   100%
ign_lidar/core/ground_truth_manager.py                              52     35    33%
ign_lidar/core/kdtree_cache.py                                     194    194     0%
ign_lidar/core/logging_config.py                                    66     66     0%
ign_lidar/core/memory.py                                           398    342    14%
ign_lidar/core/optimization_factory.py                             209    149    29%
ign_lidar/core/optimized_processing.py                             233    233     0%
ign_lidar/core/output_writer.py                                    117    102    13%
ign_lidar/core/parallel_processing.py                              129    129     0%
ign_lidar/core/patch_extractor.py                                   37     26    30%
ign_lidar/core/performance.py                                      316    235    26%
ign_lidar/core/processing_metadata.py                               96     78    19%
ign_lidar/core/processor.py                                        618    524    15%
ign_lidar/core/processor_core.py                                   152    124    18%
ign_lidar/core/skip_checker.py                                     298    281     6%
ign_lidar/core/stitching_config.py                                  64     64     0%
ign_lidar/core/tile_io_manager.py                                  102     87    15%
ign_lidar/core/tile_orchestrator.py                                214    185    14%
ign_lidar/core/tile_processor.py                                    79     60    24%
ign_lidar/core/tile_stitcher.py                                    704    542    23%
ign_lidar/core/verification.py                                     227    148    35%
ign_lidar/datasets/__init__.py                                      11      5    55%
ign_lidar/datasets/augmentation.py                                  93     16    83%
ign_lidar/datasets/dataset_manager.py                              162    127    22%
ign_lidar/datasets/multi_arch_dataset.py                           133     86    35%
ign_lidar/datasets/strategic_locations.py                          120    106    12%
ign_lidar/datasets/tile_list.py                                     32      5    84%
ign_lidar/downloader.py                                            244    213    13%
ign_lidar/features/__init__.py                                      58     16    72%
ign_lidar/features/architectural_styles.py                         166    150    10%
ign_lidar/features/compute/__init__.py                              28      4    86%
ign_lidar/features/compute/architectural.py                         62     45    27%
ign_lidar/features/compute/cluster_id.py                           151    151     0%
ign_lidar/features/compute/curvature.py                             89     21    76%
ign_lidar/features/compute/density.py                              101     64    37%
ign_lidar/features/compute/dispatcher.py                           105     76    28%
ign_lidar/features/compute/eigenvalues.py                           93     46    51%
ign_lidar/features/compute/faiss_knn.py                            199    199     0%
ign_lidar/features/compute/feature_filter.py                       101      6    94%
ign_lidar/features/compute/features.py                             199    153    23%
ign_lidar/features/compute/geometric.py                             46     36    22%
ign_lidar/features/compute/gpu_bridge.py                           139     72    48%
ign_lidar/features/compute/height.py                                47      0   100%
ign_lidar/features/compute/is_ground.py                             87     16    82%
ign_lidar/features/compute/multi_scale.py                          378    344     9%
ign_lidar/features/compute/normals.py                               71      4    94%
ign_lidar/features/compute/planarity_filter.py                      62      1    98%
ign_lidar/features/compute/utils.py                                218    141    35%
ign_lidar/features/feature_computer.py                             165     35    79%
ign_lidar/features/feature_modes.py                                103     29    72%
ign_lidar/features/gpu_processor.py                                688    593    14%
ign_lidar/features/mode_selector.py                                156     43    72%
ign_lidar/features/numba_accelerated.py                            128     68    47%
ign_lidar/features/orchestrator.py                                1210    709    41%
ign_lidar/features/strategies.py                                   128     76    41%
ign_lidar/features/strategy_boundary.py                             63     52    17%
ign_lidar/features/strategy_cpu.py                                  84      7    92%
ign_lidar/features/strategy_gpu.py                                  79     58    27%
ign_lidar/features/strategy_gpu_chunked.py                          92     74    20%
ign_lidar/features/utils.py                                         62      0   100%
ign_lidar/features/validation.py                                    88     27    69%
ign_lidar/io/__init__.py                                            25      7    72%
ign_lidar/io/bd_foret.py                                           218    218     0%
ign_lidar/io/cadastre.py                                           275    275     0%
ign_lidar/io/data_fetcher.py                                       141    141     0%
ign_lidar/io/formatters/__init__.py                                  5      5     0%
ign_lidar/io/formatters/base_formatter.py                          142    142     0%
ign_lidar/io/formatters/hybrid_formatter.py                        133    133     0%
ign_lidar/io/formatters/multi_arch_formatter.py                    192    192     0%
ign_lidar/io/gpu_dataframe.py                                      138    102    26%
ign_lidar/io/ground_truth_optimizer.py                               4      0   100%
ign_lidar/io/metadata.py                                           122    102    16%
ign_lidar/io/qgis_converter.py                                     124    111    10%
ign_lidar/io/rge_alti_fetcher.py                                   325    325     0%
ign_lidar/io/rpg.py                                                173    173     0%
ign_lidar/io/wfs_fetch_result.py                                   108     73    32%
ign_lidar/io/wfs_ground_truth.py                                   532    471    11%
ign_lidar/io/wfs_optimized.py                                      243    134    45%
ign_lidar/optimization/__init__.py                                  27     10    63%
ign_lidar/optimization/auto_select.py                               89     73    18%
ign_lidar/optimization/cuda_streams.py                             202    158    22%
ign_lidar/optimization/faiss_utils.py                               74     74     0%
ign_lidar/optimization/gpu.py                                      243    243     0%
ign_lidar/optimization/gpu_accelerated_ops.py                      153     81    47%
ign_lidar/optimization/gpu_async.py                                202    202     0%
ign_lidar/optimization/gpu_kdtree.py                                82     45    45%
ign_lidar/optimization/gpu_kernels.py                               84     84     0%
ign_lidar/optimization/gpu_memory.py                               125     89    29%
ign_lidar/optimization/gpu_profiler.py                             191    191     0%
ign_lidar/optimization/gpu_transfer_profiler.py                    154    116    25%
ign_lidar/optimization/gpu_wrapper.py                              101     83    18%
ign_lidar/optimization/ground_truth.py                             336    114    66%
ign_lidar/optimization/io_optimization.py                          149    149     0%
ign_lidar/optimization/knn_engine.py                               166     71    57%
ign_lidar/optimization/memory_cache.py                             165    165     0%
ign_lidar/optimization/performance_monitor.py                      254    254     0%
ign_lidar/optimization/prefilter.py                                102    102     0%
ign_lidar/optimization/strtree.py                                  248    194    22%
ign_lidar/optimization/vectorized.py                               167    167     0%
ign_lidar/preprocessing/__init__.py                                  7      0   100%
ign_lidar/preprocessing/artifact_detector.py                       319    270    15%
ign_lidar/preprocessing/class_normalization.py                      75     57    24%
ign_lidar/preprocessing/infrared_augmentation.py                   151    128    15%
ign_lidar/preprocessing/preprocessing.py                           215    193    10%
ign_lidar/preprocessing/rgb_augmentation.py                        158    135    15%
ign_lidar/preprocessing/tile_analyzer.py                           131    115    12%
ign_lidar/utils/normalization.py                                    84     34    60%
------------------------------------------------------------------------------------
TOTAL                                                            34043  23661    30%
Coverage HTML written to dir htmlcov
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestWaterDetection::test_water_detection_basic[0m - AssertionError: Water points should be detected
assert np.int64(0) > 0
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestWaterDetection::test_water_detection_ndwi_required[0m - AssertionError: Water should be detected without NDWI
assert np.int64(0) > 0
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestWaterDetection::test_water_detection_thresholds[0m - AssertionError: Water should be detected at threshold values
assert np.int64(0) > 0
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestBridgeDetection::test_bridge_detection_dimensions[0m - AssertionError: Bridge with valid dimensions should be detected
assert np.int64(0) > 0
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestOverheadStructureDetection::test_overhead_structure_basic[0m - AttributeError: type object 'ASPRSClass' has no attribute 'WIRE_CONDUCTOR_OVERHEAD'
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestOverheadStructureDetection::test_overhead_structure_length_filter[0m - AttributeError: type object 'ASPRSClass' has no attribute 'WIRE_CONDUCTOR_OVERHEAD'
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestNoiseClassification::test_noise_detection_basic[0m - AttributeError: type object 'ASPRSClass' has no attribute 'LOW_POINT_NOISE'
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestNoiseClassification::test_noise_isolation_threshold[0m - AttributeError: type object 'ASPRSClass' has no attribute 'LOW_POINT_NOISE'
[31mFAILED[0m tests/test_asprs_class_rules.py::[1mTestIntegration::test_apply_all_rules[0m - ValueError: operands could not be broadcast together with shapes (2100,) (2200,)
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classifier_initialization_without_enhanced[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classifier_initialization_with_enhanced_default[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classifier_initialization_with_enhanced_custom[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classify_single_building_without_enhanced[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classify_single_building_with_enhanced[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classify_buildings_batch[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classifier_with_invalid_features[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_classifier_with_empty_building[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_building_integration.py::[1mtest_performance_overhead[0m - TypeError: BuildingFacadeClassifier.__init__() got an unexpected keyword argument 'enable_enhanced_lod3'. Did you mean 'enable_detailed_lod3'?
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestThresholdConsistency::test_road_height_threshold_consistency[0m - AssertionError: GroundTruthRefinementConfig.ROAD_HEIGHT_MAX should be 0.3, got 0.2
assert 0.2 == 0.3
 +  where 0.2 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f41f8c0>.ROAD_HEIGHT_MAX
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestThresholdConsistency::test_ndvi_thresholds_consistency[0m - assert 0.12 == 0.15
 +  where 0.12 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x7837307a2490>.ROAD_NDVI_MAX
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestRoadVegetationSeparation::test_road_surface_classification[0m - AssertionError: Point at 0.3m should be road
assert np.uint8(1) == 11
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestRoadVegetationSeparation::test_edge_case_at_threshold[0m - AssertionError: Point at exactly 0.5m with road features should be road
assert np.uint8(1) == 11
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestGeometricRulesThresholds::test_road_vegetation_overlap_fix[0m - TypeError: GeometricRulesEngine.fix_road_vegetation_overlap() missing 1 required positional argument: 'modifiable_mask'
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestClassifierRules::test_road_rule_thresholds[0m - AssertionError: Road max height should be 0.5, got 0.3
assert 0.3 == 0.5
[31mFAILED[0m tests/test_classification_thresholds.py::[1mTestIntegration::test_full_pipeline_consistency[0m - assert 0.2 == 0.3
 +  where 0.2 = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f4bb460>.ROAD_HEIGHT_MAX
 +    where <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefinementConfig object at 0x78370f4bb460> = <ign_lidar.core.classification.ground_truth_refinement.GroundTruthRefiner object at 0x78370f4aa2c0>.config
[31mFAILED[0m tests/test_config.py::[1mTestConfigMigration::test_migrate_v31_to_v32[0m - omegaconf.errors.ValidationError: Unexpected type annotation: Literal[pointnet++, hybrid, octree, transformer, sparse_conv, multi]
    full_key: architecture
    object_type=Config
[31mFAILED[0m tests/test_config.py::[1mTestConfigMigration::test_migrate_feature_mode_mapping[0m - omegaconf.errors.ValidationError: Unexpected type annotation: Literal[pointnet++, hybrid, octree, transformer, sparse_conv, multi]
    full_key: architecture
    object_type=Config
[31mFAILED[0m tests/test_core_gpu_manager.py::[1mTestGPUDetection::test_gpu_detection_with_cupy[0m - AttributeError: <module 'ign_lidar.core.gpu' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/gpu.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_eigenvalue_integration.py::[1mtest_eigenvalue_integration[0m - AttributeError: 'GPUProcessor' object has no attribute 'compute_normals'
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_facade_processor_uses_gpu_knn[0m - TypeError: FacadeSegment.__init__() got an unexpected keyword argument 'initial_buffer'
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_parallel_facade_processing[0m - AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_parallel_processing_with_single_facade[0m - AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_vectorized_projection[0m - TypeError: FacadeSegment.__init__() got an unexpected keyword argument 'initial_buffer'
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_full_facade_pipeline_optimized[0m - AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?
[31mFAILED[0m tests/test_facade_optimization.py::[1mtest_performance_target_50k_points[0m - AttributeError: 'BuildingFacadeClassifier' object has no attribute 'classify_building'. Did you mean: 'classify_buildings'?
[31mFAILED[0m tests/test_feature_computer.py::[1mTestFeatureComputer::test_mode_override_parameter[0m - AssertionError: Expected '_get_cpu_computer' to have been called.
[31mFAILED[0m tests/test_feature_filtering_integration.py::[1mTestFeatureFilteringIntegration::test_filter_versailles_planarity[0m - AssertionError: Should reduce invalid values
assert np.int64(0) < np.int64(0)
[31mFAILED[0m tests/test_feature_filtering_integration.py::[1mTestFeatureFilteringIntegration::test_performance_benchmark[0m - AssertionError: Filtering overhead too high (>50%)
assert 0.14993500709533691 < (0.2019481658935547 * 0.5)
[31mFAILED[0m tests/test_feature_filtering_integration.py::[1mTestFeatureFilteringValidation::test_edge_detection_preservation[0m - AssertionError: Too many edges lost (>30% reduction)
assert np.float64(0.35020242914979755) > 0.7
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIConstants::test_alignment_with_advanced_classification[0m - ImportError: cannot import name 'AdvancedClassifier' from 'ign_lidar.core.classification' (/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/core/classification/__init__.py)
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_dense_forest_classification[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_healthy_trees_classification_with_height[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_healthy_trees_classification_without_height[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_moderate_vegetation_classification[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_grass_classification_with_height[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_sparse_vegetation_classification[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_ROAD'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_road_threshold_vegetation_removal[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_MEDIUM_VEGETATION'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_unclassified_multilevel_classification[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_UNCLASSIFIED'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_water_preservation[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_WATER'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestMultiLevelNDVIRefinement::test_no_change_for_correct_classifications[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_HIGH_VEGETATION'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestGeometricRulesIntegration::test_apply_all_rules_with_multilevel_ndvi[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_BUILDING'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestGeometricRulesIntegration::test_height_calculation_integration[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_GROUND'
[31mFAILED[0m tests/test_geometric_rules_multilevel_ndvi.py::[1mTestBackwardCompatibility::test_road_threshold_still_used[0m - AttributeError: 'GeometricRulesEngine' object has no attribute 'ASPRS_MEDIUM_VEGETATION'
[31mFAILED[0m tests/test_gpu_accelerated_ops.py::[1mtest_eigh_single_matrix[0m - AssertionError: 
Not equal to tolerance rtol=1e-05, atol=0

Mismatched elements: 6 / 9 (66.7%)
Max absolute difference among violations: 2.22044605e-16
Max relative difference among violations: inf
 ACTUAL: array([[ 1.000000e+00, -2.299347e-17,  2.220446e-16],
       [-2.299347e-17,  1.000000e+00,  4.598694e-17],
       [ 2.220446e-16,  4.598694e-17,  1.000000e+00]])
 DESIRED: array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
[31mFAILED[0m tests/test_gpu_accelerated_ops.py::[1mtest_knn_k_parameter[0m - assert (500,) == (500, 1)
  
  Right contains one more item: [0m[94m1[39;49;00m[90m[39;49;00m
  
  Full diff:
  [0m[90m [39;49;00m ([90m[39;49;00m
  [90m [39;49;00m     500,[90m[39;49;00m
  [91m-     1,[39;49;00m[90m[39;49;00m
  [90m [39;49;00m )[90m[39;49;00m
[31mFAILED[0m tests/test_gpu_accelerated_ops.py::[1mtest_invalid_input_eigh[0m - Failed: DID NOT RAISE <class 'numpy.linalg.LinAlgError'>
[31mFAILED[0m tests/test_gpu_accelerated_ops.py::[1mtest_invalid_input_knn[0m - Failed: DID NOT RAISE any of (<class 'ValueError'>, <class 'IndexError'>)
[31mFAILED[0m tests/test_gpu_composition_api.py::[1mTestConvenienceMethods::test_cleanup_method_exists[0m - AttributeError: 'GPUMemoryManager' object has no attribute 'cleanup'
[31mFAILED[0m tests/test_gpu_profiler.py::[1mTestGPUManagerIntegration::test_cleanup_resets_profiler[0m - AttributeError: 'GPUMemoryManager' object has no attribute 'cleanup'
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestMemoryCache::test_cache_hit[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestMemoryCache::test_cache_disabled[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestMemoryCache::test_cache_clear[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestLRUEviction::test_max_entries_eviction[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestLRUEviction::test_max_size_eviction[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestDiskCache::test_disk_cache_persistence[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestCacheStatistics::test_cache_stats[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestBatchProcessing::test_batch_processing[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestBatchProcessing::test_batch_with_cache_reuse[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_ground_truth_cache.py::[1mTestCachePerformance::test_cache_speedup[0m - ValueError: The truth value of an empty array is ambiguous. Use `array.size > 0` to check that an array is not empty.
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_initialization_with_gpu[0m - assert False is True
 +  where False = <ign_lidar.features.mode_selector.ModeSelector object at 0x78370f28d550>.gpu_available
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_small_cloud_with_gpu[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>
 +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_medium_cloud_with_gpu[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>
 +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_large_cloud_with_gpu[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> in (<ComputationMode.GPU: 'gpu'>, <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>)
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_very_large_cloud_with_gpu[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>
 +  where <ComputationMode.GPU_CHUNKED: 'gpu_chunked'> = ComputationMode.GPU_CHUNKED
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_force_gpu[0m - ValueError: GPU mode forced but GPU not available
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelector::test_get_recommendations[0m - assert False is True
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelectionIntegration::test_workstation_small_dataset[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU: 'gpu'>
 +  where <ComputationMode.GPU: 'gpu'> = ComputationMode.GPU
[31mFAILED[0m tests/test_mode_selector.py::[1mTestModeSelectionIntegration::test_workstation_large_dataset[0m - AssertionError: assert <ComputationMode.CPU: 'cpu'> == <ComputationMode.GPU_CHUNKED: 'gpu_chunked'>
 +  where <ComputationMode.GPU_CHUNKED: 'gpu_chunked'> = ComputationMode.GPU_CHUNKED
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureComputerInit::test_init_basic_config[0m - AttributeError: 'FeatureComputer' object has no attribute 'config'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureComputerInit::test_init_with_feature_manager[0m - AttributeError: 'FeatureComputer' object has no attribute 'feature_manager'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureComputerInit::test_init_gpu_config[0m - AttributeError: 'FeatureComputer' object has no attribute 'use_gpu'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestGeometricFeatureComputation::test_compute_geometric_features_cpu[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestGeometricFeatureComputation::test_compute_geometric_features_gpu[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureComputation::test_compute_features_basic[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureComputation::test_compute_features_with_enriched[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestRGBFeatures::test_add_rgb_from_input_laz[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestRGBFeatures::test_add_rgb_unavailable[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestNIRFeatures::test_add_nir_from_input_laz[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestNIRFeatures::test_add_nir_unavailable[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestNDVIFeatures::test_add_ndvi_from_input_laz[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestNDVIFeatures::test_compute_ndvi_from_rgb_nir[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestArchitecturalStyle::test_add_architectural_style_single[0m - omegaconf.errors.ConfigAttributeError: Missing key gpu_available
    full_key: gpu_available
    object_type=dict
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestArchitecturalStyle::test_add_architectural_style_multi_label[0m - omegaconf.errors.ConfigAttributeError: Missing key gpu_available
    full_key: gpu_available
    object_type=dict
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureFlowLogging::test_feature_flow_debug_logging[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_feature_computer.py::[1mTestFeatureFlowLogging::test_empty_geo_features_warning[0m - ImportError: Cannot import 'feature_computer' from 'ign_lidar.core.modules' (now 'ign_lidar.core.classification'). Original error: No module named 'ign_lidar.core.classification.feature_computer'
[31mFAILED[0m tests/test_modules/test_tile_loader.py::[1mTestPreprocessing::test_preprocessing_sor_ror[0m - ModuleNotFoundError: No module named 'ign_lidar.core.preprocessing'
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestPatchAugmentation::test_translation[0m - AssertionError: assert np.float32(1.054426) <= 1.0
 +  where np.float32(1.054426) = <function norm at 0x7837fefda970>(array([-0.67880225,  0.78336847,  0.19332695], dtype=float32))
 +    where <function norm at 0x7837fefda970> = <module 'numpy.linalg' from '/home/simon/miniconda3/lib/python3.13/site-packages/numpy/linalg/__init__.py'>.norm
 +      where <module 'numpy.linalg' from '/home/simon/miniconda3/lib/python3.13/site-packages/numpy/linalg/__init__.py'> = np.linalg
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_init_basic[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_init_with_preset[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_data_split[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_getitem[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_len[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_architecture_pointnet[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_architecture_transformer[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_architecture_octree[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_architecture_sparse_conv[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_augmentation[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_cache_in_memory[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_get_dataloader[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_get_stats[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIGNLiDARMultiArchDataset::test_presets[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIntegration::test_full_pipeline[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_arch_dataset.py::[1mTestIntegration::test_multiple_architectures[0m - ImportError: MultiArchitectureFormatter not available. Please ensure ign_lidar.formatters is properly installed.
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_successful_gpu_connection[0m - AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_gpu_not_available_warning[0m - AssertionError: assert 'falling back to CPU' in '  \u26a0\ufe0f  GPU requested but no GPU processor available in feature computer        This may occur if:        1. CuPy is not installed (install: pip install cupy-cuda11x or cupy-cuda12x)        2. No CUDA-compatible GPU detected        3. GPU initialization failed during feature computer setup        \u2192 Multi-scale features will use CPU fallback'
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_cupy_not_installed_fallback[0m - AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_gpu_validation_failure_fallback[0m - AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_gpu_memory_info_logging[0m - AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_multi_scale_gpu_connection.py::[1mTestMultiScaleGPUConnection::test_force_gpu_config[0m - AttributeError: <module 'ign_lidar.features.orchestrator' from '/mnt/d/Users/Simon/OneDrive/Documents/GitHub/IGN_LIDAR_HD_DATASET/ign_lidar/features/orchestrator.py'> does not have the attribute 'cp'
[31mFAILED[0m tests/test_parcel_classifier.py::[1mtest_classifier_requires_spatial_libs[0m - Failed: DID NOT RAISE <class 'ImportError'>
[31mFAILED[0m tests/test_parcel_classifier.py::[1mtest_refine_forest_parcel_points[0m - AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_HIGH_VEGETATION'
[31mFAILED[0m tests/test_parcel_classifier.py::[1mtest_refine_building_parcel_points[0m - AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_BUILDING'
[31mFAILED[0m tests/test_parcel_classifier.py::[1mtest_classify_by_parcels_integration[0m - AttributeError: 'ParcelClassifier' object has no attribute 'ASPRS_LOW_VEGETATION'
[31mFAILED[0m tests/test_planarity_filtering.py::[1mTestPlanarityFiltering::test_smooth_planarity_k_neighbors_parameter[0m - ValueError: k=5 must be less than n_points=5
[31mFAILED[0m tests/test_planarity_filtering.py::[1mTestPlanarityFiltering::test_smooth_planarity_threshold_sensitivity[0m - ValueError: k=5 must be less than n_points=5
[31mFAILED[0m tests/test_reclassification_improvements.py::[1mTestAdaptiveBuffers::test_adaptive_buffer_medium_building[0m - assert np.float64(1.6) == 1.0
[31mFAILED[0m tests/test_reclassification_improvements.py::[1mTestAdaptiveBuffers::test_adaptive_buffer_large_building[0m - assert np.float64(4.0) == 2.5
[31mFAILED[0m tests/test_reclassification_improvements.py::[1mTestAdaptiveBuffers::test_adaptive_buffer_very_large_building[0m - assert np.float64(4.0) == 3.0
[31mFAILED[0m tests/test_reclassifier_performance.py::[1mtest_cpu_vectorized_vs_legacy[0m - AssertionError: Expected at least 3× speedup, got 2.2×
assert 2.1709677658854543 >= 3.0
[31mFAILED[0m tests/test_spectral_rules.py::[1mtest_spectral_rules_initialization[0m - assert 0.35 == 0.4
 +  where 0.35 = <ign_lidar.core.classification.spectral_rules.SpectralRulesEngine object at 0x78368c4a1020>.nir_vegetation_threshold
[31mFAILED[0m tests/test_spectral_rules.py::[1mtest_concrete_building_classification[0m - assert 0 > 0
[31mFAILED[0m tests/test_spectral_rules.py::[1mtest_asphalt_classification[0m - AssertionError: Expected >300 road points, got 0
assert np.int64(0) > 300
[31mFAILED[0m tests/test_spectral_rules.py::[1mtest_classify_with_confidence[0m - AttributeError: 'SpectralRulesEngine' object has no attribute 'ASPRS_UNCLASSIFIED'
[31mFAILED[0m tests/test_spectral_rules.py::[1mtest_statistics_tracking[0m - assert np.int64(946) == 940
[31mERROR[0m tests/test_roof_classifier.py::[1mTestRoofTypeClassifier::test_classify_flat_roof[0m - numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'
[31mERROR[0m tests/test_roof_classifier.py::[1mTestRoofTypeClassifier::test_identify_roof_points[0m - numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'
[31mERROR[0m tests/test_roof_classifier.py::[1mTestRoofTypeClassifier::test_segment_roof_planes[0m - numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'
[31mERROR[0m tests/test_roof_classifier.py::[1mTestRoofTypeClassifier::test_detect_roof_edges[0m - numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'
[31mERROR[0m tests/test_roof_classifier.py::[1mTestRoofTypeClassifier::test_result_statistics[0m - numpy._core._exceptions._UFuncOutputCastingError: Cannot cast ufunc 'add' output from dtype('float64') to dtype('int64') with casting rule 'same_kind'
[31m= [31m[1m134 failed[0m, [32m919 passed[0m, [33m102 skipped[0m, [33m5 warnings[0m, [31m[1m5 errors[0m[31m in 167.53s (0:02:47)[0m[31m =[0m
