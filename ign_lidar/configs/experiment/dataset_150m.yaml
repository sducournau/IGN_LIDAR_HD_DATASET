# @package _global_

# Dataset Configuration: ML Training Dataset with 150m Patches
# Purpose: Create ML-ready training dataset with full building context
# Use Case: Large buildings, campus layouts, maximum context
#
# Usage:
#   ign-lidar-hd process experiment=dataset_150m \
#     input_dir=data/raw \
#     output_dir=data/patches_150m

defaults:
  - _base/dataset_common # Inherit common dataset settings
  - _self_ # Apply 150m-specific overrides

# Dataset-specific setting
dataset:
  patch_sizes: [150] # Single patch size for this config

# Scale-specific processor settings
processor:
  num_workers: 4
  patch_size: 150.0 # 150m patches for full context
  patch_overlap: 0.10 # 10% overlap
  num_points: 32768 # 32k points for large patches
  num_augmentations: 3 # Fewer augmentations (patches are larger)

# Scale-specific feature settings
features:
  k_neighbors: 30 # Larger neighborhood for context
  search_radius: 2.0 # Larger radius for 150m patches

# Scale-specific preprocessing
preprocess:
  sor_k: 12 # More aggressive for large patches
  sor_std: 2.0
  ror_radius: 1.0
  ror_neighbors: 4

# Scale-specific stitching
stitching:
  buffer_size: 15.0 # Larger buffer for 150m patches
# Expected output structure:
# output_dir/
#   train/
#     LHD_FXX_0649_6863_hybrid_patch_0001_scale150m.npz
#     LHD_FXX_0649_6863_hybrid_patch_0001_aug_0_scale150m.npz
#     ...
#   val/
#     ...
#   test/
#     ...
#   dataset_metadata.json
