# @package _global_

# Dataset Configuration: ML Training Dataset with 100m Patches
# Purpose: Create ML-ready training dataset with balanced context
# Use Case: General purpose, urban areas, balanced detail/context
#
# Usage:
#   ign-lidar-hd process experiment=dataset_100m \
#     input_dir=data/raw \
#     output_dir=data/patches_100m

defaults:
  - _base/dataset_common # Inherit common dataset settings
  - _self_ # Apply 100m-specific overrides

# Dataset-specific setting
dataset:
  patch_sizes: [100] # Single patch size for this config

# Scale-specific processor settings
processor:
  num_workers: 4
  patch_size: 100.0 # 100m patches for balanced context
  patch_overlap: 0.12 # 12% overlap
  num_points: 32768 # 32k points for medium patches
  num_augmentations: 4 # Moderate augmentation

# Scale-specific feature settings
features:
  k_neighbors: 25 # Medium neighborhood
  search_radius: 1.5 # Medium radius for 100m patches

# Scale-specific preprocessing
preprocess:
  sor_k: 10 # Standard for medium patches
  sor_std: 2.0
  ror_radius: 0.75
  ror_neighbors: 4

# Scale-specific stitching
stitching:
  buffer_size: 12.0 # Medium buffer for 100m patches
# Expected output structure:
# output_dir/
#   train/
#     LHD_FXX_0649_6863_hybrid_patch_0001_scale100m.npz
#     LHD_FXX_0649_6863_hybrid_patch_0001_aug_0_scale100m.npz
#     ...
#   val/
#     ...
#   test/
#     ...
#   dataset_metadata.json
