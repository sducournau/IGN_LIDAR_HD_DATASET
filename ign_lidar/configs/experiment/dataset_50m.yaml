# @package _global_

# Dataset Configuration: ML Training Dataset with 50m Patches
# Purpose: Create ML-ready training dataset with fine architectural details
# Use Case: Small buildings, detailed facades, local features
#
# Usage:
#   ign-lidar-hd process experiment=dataset_50m \
#     input_dir=data/raw \
#     output_dir=data/patches_50m

defaults:
  - _base/dataset_common # Inherit common dataset settings
  - _self_ # Apply 50m-specific overrides

# Dataset-specific setting
dataset:
  patch_sizes: [50] # Single patch size for this config

# Scale-specific processor settings
processor:
  num_workers: 4
  patch_size: 50.0 # 50m patches for fine details
  patch_overlap: 0.15 # Higher overlap for boundary coverage
  num_points: 24576 # 24k points suitable for 50m patches
  num_augmentations: 5 # More augmentations for diversity

# Scale-specific feature settings
features:
  k_neighbors: 20 # Smaller neighborhood for fine details
  search_radius: 1.2 # Smaller radius for 50m patches

# Scale-specific preprocessing
preprocess:
  sor_k: 8 # Less aggressive for small patches
  ror_radius: 0.5
  ror_neighbors: 3

# Scale-specific stitching
stitching:
  buffer_size: 8.0 # Smaller buffer for 50m patches
# Expected output structure:
# output_dir/
#   train/
#     LHD_FXX_0649_6863_hybrid_patch_0001_scale50m.npz
#     LHD_FXX_0649_6863_hybrid_patch_0001_aug_0_scale50m.npz
#     ...
#   val/
#     ...
#   test/
#     ...
#   dataset_metadata.json
