# Configuration for MODE 3: Both Enriched LAZ AND Training Patches
# Use this for complete output - saves enriched LAZ files + training patches
processor:
  lod_level: LOD3
  architecture: hybrid
  use_gpu: true
  num_workers: 2 # Moderate parallelism for balanced memory/speed
  patch_size: 150.0
  patch_overlap: 0.1
  num_points: 32768
  augment: true # Enable augmentation for training
  num_augmentations: 3
  batch_size: auto
  prefetch_factor: 2
  pin_memory: true

features:
  mode: full
  k_neighbors: 30
  include_extra: true
  use_rgb: true
  use_infrared: true
  compute_ndvi: true
  sampling_method: fps
  normalize_xyz: true # Normalize for training patches
  normalize_features: true # Normalize for training patches
  gpu_batch_size: 1000000
  use_gpu_chunked: true

preprocess:
  enabled: true # Enable preprocessing
  sor_k: 12
  sor_std: 2.0
  ror_radius: 1.0
  ror_neighbors: 4
  voxel_enabled: false
  voxel_size: 0.1

stitching:
  enabled: true # Enable stitching for better boundary features
  buffer_size: 15.0
  auto_detect_neighbors: true
  auto_download_neighbors: false
  cache_enabled: true

output:
  format: npz # NPZ format for training patches
  save_enriched_laz: true # ALSO save enriched LAZ files
  only_enriched_laz: false # Create both enriched LAZ AND patches
  save_stats: true
  save_metadata: true
  compression: null

input_dir: /mnt/c/Users/Simon/ign/unified_dataset
output_dir: /mnt/c/Users/Simon/ign/complete_output
num_workers: 2
verbose: true
log_level: INFO
bbox:
  xmin: null
  ymin: null
  xmax: null
  ymax: null
