# ============================================================================
# IGN LiDAR HD - Preset: ASPRS Classification (GPU)
# ============================================================================
# Purpose: Production ASPRS point cloud classification with GPU acceleration
#
# Features:
# - ASPRS LAS 1.4 standard classes (ground, vegetation, buildings, etc.)
# - High quality features (k=60)
# - BD TOPO + optional Cadastre integration
# - GPU-optimized for RTX 3080+ (12GB+ VRAM)
#
# Performance (RTX 4080):
# - ~30-60s per 20M point tile
# - GPU utilization >85%
# - Ground truth: 10-100Ã— faster than CPU
#
# Usage:
#   ign-lidar-hd process -c presets/asprs_classification_gpu.yaml \
#     input_dir=/data/tiles output_dir=/data/output
#
# With specific hardware profile:
#   ign-lidar-hd process -c presets/asprs_classification_gpu.yaml \
#     -c hardware/gpu_rtx4090_24gb.yaml \
#     input_dir=/data/tiles output_dir=/data/output
#
# Version: 5.1.0
# Package Version: 3.1.0
# Date: November 2025
# Compatibility: FeatureOrchestrator V5
# ============================================================================

defaults:
  - ../base # Inherit complete base configuration
  - _self_ # Allow local overrides

config_version: "5.1.0"
config_name: "asprs_classification_gpu"
config_description: "ASPRS Classification with GPU Acceleration (Production)"

# ============================================================================
# PROCESSOR
# ============================================================================
processor:
  lod_level: "ASPRS"
  processing_mode: "enriched_only"

# ============================================================================
# FEATURES - High Quality
# ============================================================================
features:
  mode: "asprs_classes"
  k_neighbors: 60 # High quality for classification

  # Enable spectral features if available
  use_rgb: true
  use_nir: true
  compute_ndvi: true

  # Height computation
  use_rge_alti_for_height: false # Disable for speed (can enable if needed)

# ============================================================================
# DATA SOURCES - Full Integration
# ============================================================================
data_sources:
  bd_topo:
    enabled: true
    features:
      buildings: true
      roads: true
      water: true
      vegetation: true
    bd_topo_bridges: true
    bd_topo_power_lines: true

  cadastre:
    enabled: true
    use_as_building_proxy: true

  osm:
    enabled: true

# ============================================================================
# GROUND TRUTH
# ============================================================================
ground_truth:
  enabled: true
  fuzzy_boundary_enabled: true
  fuzzy_boundary_outer: 2.5

# ============================================================================
# VARIABLE OBJECT FILTERING
# ============================================================================
variable_object_filtering:
  enabled: true
  filter_vehicles: true
  filter_urban_furniture: true
  create_vehicle_class: true

# ============================================================================
# OUTPUT
# ============================================================================
output:
  save_enriched: true
  save_metadata: true
  save_stats: true
  validate_output: true
# ============================================================================
# EXPECTED RESULTS
# ============================================================================
# Classification Quality:
# - Overall accuracy: 89-96%
# - Building detection: 92-97%
# - Road detection: 81-91%
# - Vegetation: 85-93%
# - Ground: 88-95%
#
# Performance (RTX 4080, 20M points):
# - Total time: ~8-14 minutes
# - Throughput: ~80-100M points/min
# ============================================================================
