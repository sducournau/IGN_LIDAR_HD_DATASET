# ============================================================================
# Preset: ASPRS Classification (GPU)
# ============================================================================
# Purpose: Standard ASPRS point cloud classification with GPU acceleration
#
# Features:
# - ASPRS standard classes (ground, low/med/high veg, buildings, etc.)
# - High quality features (k=60)
# - BD TOPO + Cadastre + OSM integration
# - Optimized for production use
#
# Hardware: GPU with 12GB+ VRAM recommended (uses RTX 4080 profile)
# Performance: ~8-14 min per 20M point tile
#
# Usage:
#   ign-lidar-hd process --config-name presets/asprs_classification_gpu \
#     input_dir=/data output_dir=/output
#
# Override hardware:
#   ign-lidar-hd process --config-name presets/asprs_classification_gpu \
#     --config-path profiles/gpu_rtx4090 \
#     input_dir=/data output_dir=/output
# ============================================================================

defaults:
  - /base_complete
  - /profiles/gpu_rtx4080 # Default to RTX 4080 profile

config_name: "asprs_classification_gpu"
config_description: "ASPRS Classification with GPU Acceleration"

# ============================================================================
# PROCESSOR
# ============================================================================
processor:
  lod_level: "ASPRS"
  processing_mode: "enriched_only"

# ============================================================================
# FEATURES - High Quality
# ============================================================================
features:
  mode: "asprs_classes"
  k_neighbors: 60 # High quality for classification

  # Enable spectral features if available
  use_rgb: true
  use_nir: true
  compute_ndvi: true

  # Height computation
  use_rge_alti_for_height: false # Disable for speed (can enable if needed)

# ============================================================================
# DATA SOURCES - Full Integration
# ============================================================================
data_sources:
  bd_topo:
    enabled: true
    features:
      buildings: true
      roads: true
      water: true
      vegetation: true
    bd_topo_bridges: true
    bd_topo_power_lines: true

  cadastre:
    enabled: true
    use_as_building_proxy: true

  osm:
    enabled: true

# ============================================================================
# GROUND TRUTH
# ============================================================================
ground_truth:
  enabled: true
  fuzzy_boundary_enabled: true
  fuzzy_boundary_outer: 2.5

# ============================================================================
# VARIABLE OBJECT FILTERING
# ============================================================================
variable_object_filtering:
  enabled: true
  filter_vehicles: true
  filter_urban_furniture: true
  create_vehicle_class: true

# ============================================================================
# OUTPUT
# ============================================================================
output:
  save_enriched: true
  save_metadata: true
  save_stats: true
  validate_output: true
# ============================================================================
# EXPECTED RESULTS
# ============================================================================
# Classification Quality:
# - Overall accuracy: 89-96%
# - Building detection: 92-97%
# - Road detection: 81-91%
# - Vegetation: 85-93%
# - Ground: 88-95%
#
# Performance (RTX 4080, 20M points):
# - Total time: ~8-14 minutes
# - Throughput: ~80-100M points/min
# ============================================================================
